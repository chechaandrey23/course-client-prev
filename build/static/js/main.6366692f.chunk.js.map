{"version":3,"sources":["helpers/roles.js","redux/saga/helpers/helper.request.js","redux/saga/helpers/helper.default.request.settings.js","redux/saga/helpers/helper.saga.js","redux/user.user.js","redux/user.likes.js","redux/saga/user.user.js","components/TopNavBar.jsx","components/LogIn.jsx","components/SearchBar.jsx","pages/PageLogin.jsx","components/Registration.jsx","pages/PageRegistration.jsx","components/Filler.jsx","redux/user.langs.js","redux/saga/user.langs.js","redux/user.themes.js","redux/saga/user.themes.js","components/UserSettings.jsx","pages/PageUser.jsx","components/BodyContent.jsx","redux/user.ratings.js","redux/saga/user.ratings.js","components/ReviewRating.jsx","redux/saga/user.likes.js","components/ReviewLike.jsx","components/ReviewItem.jsx","helpers/unique.js","redux/editor.tags.js","redux/saga/editor.tags.js","redux/editor.groups.js","redux/saga/editor.groups.js","redux/editor.titles.js","redux/saga/editor.titles.js","redux/guest.editors.js","redux/saga/guest.editors.js","redux/custom.filter.js","components/PopoverFilterReviews.jsx","redux/user.reviews.js","redux/saga/user.reviews.js","components/ReviewLists.jsx","redux/user.tags.js","redux/saga/user.tags.js","components/RightBar.jsx","pages/PageReviews.jsx","redux/helpers/Paginator.js","redux/user.comments.js","components/ReviewFull.jsx","redux/saga/user.comments.js","components/ReviewCommentItem.jsx","components/ReviewComments.jsx","pages/PageReview.jsx","redux/editor.reviews.js","redux/saga/editor.reviews.js","components/MyReviewRow.jsx","components/MyReviewLists.jsx","pages/PageMyReviews.jsx","redux/editor.images.js","redux/saga/editor.images.js","image/ImageUpload.jsx","image/ImageLists.jsx","image/ModalImages.jsx","helpers/markdown.image.jsx","components/MyReviewFullEdit.jsx","pages/PageMyReviewEdit.jsx","App.js","redux/saga/saga.js","redux/store.js","index.js"],"names":["isUser","role","Array","isArray","includes","isEditor","isAdmin","request","opts","Promise","res","rej","axios","then","response","catch","e","status","JWTRefreshUpdate","method","JWTRefreshUpdateMethod","url","JWTRefreshUpdateURL","getError","data","defaultRequestSettings","responseType","createActions","obj","Object","keys","reduce","acc","key","constName","type","payload","createSagas","arr","value","push","pattern","saga","storeUserUser","createSlice","name","initialState","login","loadLogin","errorLogin","logout","loadLogout","errorLogout","registration","loadRegistration","errorRegistration","user","loadGetUser","loadSetUser","errorSetUser","reducers","state","action","startLoadLogin","endLoadLogin","startLoadLogout","endLoadLogout","startLoadRegistration","endLoadRegistration","userInfo","newUser","startLoadGetUser","endLoadGetUser","startLoadSetUser","endLoadSetUser","actions","storeUserLikes","likes","like","loadNewLike","setCountLikes","newLike","startLoadNewLike","endLoadNewLike","errorNewLike","loginSaga","logoutSaga","registrationSaga","getUserSaga","setUserSaga","put","call","username","password","password2","email","first_name","last_name","config","countUserLike","id","langId","themeId","FETCH_LOGIN","FETCH_LOGOUT","FETCH_REGISTRATION","FETCH_GET_USER","FETCH_SET_USER","userUserSagas","sagaLogin","sagaLogout","sagaRegistration","sagaGetUser","sagaSetUser","TopNavBar","useCookies","cookies","removeCookie","navigate","useNavigate","dispatch","useLocation","useDispatch","useSelector","userUser","userLikes","logOutFn","useCallback","useEffect","logoutAC","Roles","length","substring","Navbar","bg","variant","expand","className","Container","Brand","href","Toggle","aria-controls","Collapse","Nav","Item","to","Link","Badge","Button","onClick","validationSchema","Yup","shape","required","min","max","LogIn","props","useTranslation","t","error","loginAC","useForm","resolver","yupResolver","register","handleSubmit","errors","watch","formState","Row","Col","Alert","onClose","dismissible","Heading","message","reason","sm","Form","onSubmit","Group","as","controlId","Label","column","Control","placeholder","isInvalid","Feedback","md","class","aria-pressed","ReviewLists","aria-label","PageReview","oneOf","registrationAC","Filler","element","useRef","parent","current","parentNode","parentStyles","window","getComputedStyle","oldPosition","position","style","width","parseInt","ignorePadding","paddingRight","paddingLeft","height","paddingTop","paddingBottom","left","top","blur","document","createElement","display","appendChild","zIndex","opacity","backgroundColor","classList","add","split","spinner","removeChild","ref","toString","Spinner","animation","size","storeUserLangs","langs","loadLangs","getLangs","startLoadLangs","endLoadLangs","getAllLangsSaga","FETCH_GET_ALL_LANGS","userLangsSagas","sagaGetAllLangs","storeUserThemes","themes","loadThemes","getThemes","startLoadThemes","endLoadThemes","getAllThemesSaga","FETCH_GET_ALL_THEMES","userThemesSagas","sagaGetAllThemes","UserSettings","useState","firstRender","setFirstRender","userLangs","userThemes","useLayoutEffect","defaultValue","Select","lang","map","entry","index","title","theme","BodyContent","content","addContent","rightbar","storeUserRatings","rating","loadNewRating","setRating","newRating","userRating","startLoadNewRating","endLoadNewRating","errorNewRating","newRatingSaga","reviewId","FETCH_NEW_RATING","userRatingsSagas","sagaNewRating","ReviewRating","setNewRating","userRatings","currentEvent","firstUpdate","defValue","isDisabled","readonly","initialRating","onChange","newLikeSaga","FETCH_NEW_LIKE","userLikesSagas","sagaNewLike","ReviewLike","setNewLike","disabled","ReviewItem","group","ratings","marginRight","authorRating","author","description","val","Date","date","unique","array","filter","onlyUnique","self","lastIndexOf","storeEditorTags","tags","loadTags","loadNewTag","errorNewTag","newTag","getTags","startLoadTags","endLoadTags","startLoadNewTag","endLoadNewTag","getPartTagsSaga","newTagSaga","encodeURIComponent","tag","FETCH_GET_PART_TAGS","FETCH_NEW_TAG","editorTagsSagas","sagaGetPartTags","sagaNewTag","storeEditorGroups","groups","loadGroups","getGroups","startLoadGroups","endLoadGroups","getAllGroupsSaga","FETCH_GET_ALL_GROUPS","editorGroupsSagas","sagaGetAllGroups","storeEditorTitles","titles","loadTitles","loadNewTitle","errorNewTitle","newTitle","getTitles","startLoadTitles","endLoadTitles","startLoadNewTitle","endLoadNewTitle","getPartTitlesSaga","newTitleSaga","FETCH_GET_PART_TITLES","FETCH_NEW_TITLE","editorTitlesSagas","sagaGetPartTitles","sagaNewTitle","storeEditorEditors","partEditors","loadEditors","getEditors","startLoadEditors","loadTiltes","endLoadEditors","getPartEditorsSaga","params","page","FETCH_GET_PART_EDITORS","guestEditorsSagas","sagaGetPartEditors","storeCustomFilter","editorFilter","setFilterData","setEditorFilterData","PopoverFilterReviews","setValue","control","reset","useSearchParams","searchParams","customFilter","filterData","typeFilter","callbackGroupSelect","setCallbackGroupSelect","callbackEditorSelect","setCallbackEditorSelect","editorTags","editorGroups","editorTitles","guestEditors","callback","label","options","userName","social_id","hasMore","OverlayTrigger","rootClose","delay","trigger","placement","overlay","Popover","minWidth","Header","Body","query","queryString","stringify","arrayFormat","body","click","getAll","filterTags","items","item","at","render","field","onBlur","minLength","useCache","labelKey","multiple","isLoading","clearButton","selected","onSearch","filterGroups","loadOptions","inputValue","isMulti","isSearchable","defaultOptions","filterTitles","withAuthors","authors","filterAuthors","authos","search","loadedOptions","a","o","additional","get","sortField","sortFields","sortType","storeUserReviews","dataItem","dataItemLoading","moreReviews","getReviews","getReview","getReviewLoading","getReviewError","moreReviewsSaga","getReviewsSaga","getReviewSaga","FETCH_MORE_REVIEWS","FETCH_GET_REVIEWS","FETCH_GET_REVIEW","userReviewsSagas","sagaMoreReviews","sagaGetReviews","sagaGetReview","reviews","userReviews","groupTitle","createdAt","storeUserTags","getAllTags","getAllTagsSaga","order","FETCH_GET_ALL_TAGS","userTagsSagas","sagaGetAllTags","userTags","wordIndexs","words","countReview","text","rotations","rotationAngles","callbacks","getWordTooltip","word","onWordClick","event","onWordMouseOut","target","setAttribute","Number","getAttribute","onWordMouseOver","PageReviews","Paginator","defaultCountRows","this","stateName","Error","fn","end","slice","Math","floor","storeUserComments","paginator","comments","commentsLoading","commentsMoreLoading","commentsAutoUpdateLoading","newComment","newCommentLoading","newCommentError","setReviewId","moreComments","addWithReplace","startLoadMoreComments","endLoadMoreComments","getComments","replace","startLoadGetComments","endLoadGetComments","startLoadNewComment","endLoadNewComment","errorNewComment","autoUpdateComments","addToEnd","startLoadAutoUpdateComments","endLoadAutoUpdateComments","ReviewFull","review","reviewLoading","useParams","userId","averageEditorRating","averageUserRating","getCommentsSaga","moreCommentsSaga","autoUpdateCommentsSaga","newCommentSaga","comment","FETCH_COMMENTS","FETCH_MORE_COMMENTS","FETCH_AUTO_UPDATE_COMMENTS","FETCH_NEW_COMMENT","userCommentsSagas","sagaGetComments","sagaMoreComments","sagaAutoUpdateComments","sagaNewComment","ReviewCommentItem","validationSchemaModal","ReviewComments","show","setShow","userComments","handleClose","handleShow","registerModal","handleSubmitModal","errorsModal","Modal","onHide","centered","closeButton","Title","console","log","rows","Footer","form","storeEditorReviews","dataLoading","dataMoreLoading","dataItemSetLoading","dataItemError","dataItemNewLoading","dataItemRemoveLoading","dataItemRemoveError","newReview","startLoadMoreReviews","endLoadMoreReviews","startLoadGetReviews","endLoadGetReviews","startLoadGetReview","endLoadGetReview","startLoadSetReview","endLoadSetReview","errorSetReview","startLoadNewReview","endLoadNewReview","startLoadRemoveReview","endLoadRemoveReview","errorRemoveReview","removeReview","errorNewReview","editReviewSaga","newReviewSaga","removeReviewSaga","groupId","titleId","draft","FETCH_REVIEWS","FETCH_REVIEW","FETCH_NEW_REVIEW","FETCH_EDIT_REVIEW","REMOVE_REVIEW","editorReviewsSagas","sagaNewReview","sagaEditReview","sagaRemoveReview","handleOKClose","countComments","join","MyReviewLists","editorReviews","createReview","newReviewAC","Table","striped","bordered","hover","colSpan","imdex","storeEditorImages","modalImages","urlImageToInsert","images","loadImages","loadMoreImages","loadNewImage","errorNewImage","newImage","progressLoadNewImage","selectedImageInsert","selectedImageUpload","showModalImage","hideModalImage","setURLImageToInsert","getImages","startLoadImages","endLoadImages","moreImages","startLoadMoreImages","endLoadMoreImages","startLoadNewImage","endLoadNewImage","progressLoadNewImageAC","errorNewImageAC","newImageAC","selectedImageInsertAC","selectedImageUploadAC","getPartImagesSaga","morePartImagesSaga","newImageSaga","onUploadProgress","progress","FETCH_GET_PART_IMAGES","FETCH_NEW_IMAGE","FETCH_MORE_PART_IMAGES","editorImagesSagas","sagaGetPartImages","sagaMorePartImages","sagaNewImage","ImageUpload","editorImages","uploadFn","formData","FormData","append","round","loaded","total","Image","src","URL","createObjectURL","fluid","ProgressBar","animated","now","onDrop","acceptedFiles","getRootProps","getInputProps","accept","cursor","ImageLists","setPage","image","selClasses","selStyles","maxWidth","maxHeight","padding","thumbnail","ModalImages","setKey","Tabs","activeKey","onSelect","k","Tab","eventKey","MarkdownImages","editor","insertText","defaultConfig","align","pluginName","MdEditor","unuse","Plugins","use","of","MyReviewFullEdit","aref","selectedTags","setSelectedTags","setValueModal","hideMenu","allowNew","defaultSelected","customOption","undefined","renderHTML","html","findIndex","Check","defaultChecked","PageMyReviewEdit","App","path","rootSaga","sagas","all","spawn","lastTask","take","cancel","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","userReviewsReduser","userTagsReduser","userUserReduser","userLikesReduser","userLangsReduser","userThemesReduser","editorReviewsReduser","editorGroupsReduser","editorTitlesReduser","editorTagsReduser","editorImagesReduser","guestEditorsReduser","customFilterReduser","userRatingsReduser","userCommentsReduser","middleware","getDefaultMiddleware","thunk","serializableCheck","run","ReactDOM","StrictMode","CookiesProvider","getElementById"],"mappings":"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","file":"static/js/main.6366692f.chunk.js","sourcesContent":["export function isUser(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(1);\n}\n\nexport function isGuest(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(0);\n}\n\nexport function isEditor(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(2);\n}\n\nexport function isAdmin(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(3);\n}\n","import axios from 'axios';\n\nexport function request(opts) {\n\topts = opts || {};\n\treturn new Promise((res, rej) => {\n\t\taxios(opts).then((response) => {\n\t\t\tres(response);\n\t\t}).catch((e) => {\n\t\t\tif(e.response && e.response.status === 401 && opts.JWTRefreshUpdate) {\n\t\t\t\taxios({\n\t\t\t\t\tmethod: opts.JWTRefreshUpdateMethod || 'GET',\n\t\t\t\t\turl: opts.JWTRefreshUpdateURL\n\t\t\t\t}).then((response) => {\n\t\t\t\t\taxios(opts).then((response) => {\n\t\t\t\t\t\tres(response);\n\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\trej(getError(e))\n\t\t\t\t\t});\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\trej(getError(e))\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trej(getError(e))\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction getError(e) {\n\tif(e.response) {\n\t\tif(!e.response.data) e.response.data = e;\n\t\treturn e.response;\n\t} else if(e.request) {\n\t\tif(!e.request.data) e.request.data = e;\n\t\treturn e.request;\n\t} else {\n\t\tif(!e.data) e.data = e;\n\t\treturn e;\n\t}\n}\n","export const defaultRequestSettings = {\n\t//timeout: 5000,\n\tresponseType: 'json',\n\tJWTRefreshUpdate: true,\n\tJWTRefreshUpdateMethod: 'POST',\n\tJWTRefreshUpdateURL: '/auth/api/refresh'\n}\n","//{expName: constName}\nexport function createActions(obj) {\n\treturn Object.keys(obj || {}).reduce((acc, key) => {\n\t\tacc[key] = ((constName) => {\n\t\t\treturn (data) => ({type: constName, payload: data});\n\t\t})(obj[key]);\n\t\t\n\t\treturn acc;\n\t}, {});\n}\n\n// constName, fn | fn\nexport function createSagas(arr) {\n\treturn (Array.isArray(arr)?arr:[]).reduce((acc, value) => {\n\t\tif(typeof value === 'function') {\n\t\t\tacc.push(value);\n\t\t} else if(Array.isArray(value) && typeof value[1] === 'function') {\n\t\t\tacc.push({pattern: value[0]+'', saga: value[1]});\n\t\t}\n\t\t\n\t\treturn acc;\n\t}, []);\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserUser = createSlice({\n\tname: 'userUser',\n\tinitialState: {\n\t\tlogin: false,\n\t\tloadLogin: false,\n\t\terrorLogin: false,\n\t\tlogout: false,\n\t\tloadLogout: false,\n\t\terrorLogout: false,\n\t\tregistration: false,\n\t\tloadRegistration: false,\n\t\terrorRegistration: false,\n\t\tuser: {},\n\t\tloadGetUser: false,\n\t\tloadSetUser: false,\n\t\terrorSetUser: false,\n\t},\n\treducers: {\n\t\tlogin(state, action) {\n\t\t\tstate.login = action.payload;\n\t\t},\n\t\tstartLoadLogin(state, action) {\n\t\t\tstate.loadLogin = true;\n\t\t},\n\t\tendLoadLogin(state, action) {\n\t\t\tstate.loadLogin = false;\n\t\t},\n\t\terrorLogin(state, action) {\n\t\t\tstate.errorLogin = action.payload;\n\t\t},\n\t\tlogout(state, action) {\n\t\t\tstate.logout = action.payload;\n\t\t},\n\t\tstartLoadLogout(state, action) {\n\t\t\tstate.loadLogout = true;\n\t\t},\n\t\tendLoadLogout(state, action) {\n\t\t\tstate.loadLogout = false;\n\t\t},\n\t\terrorLogout(state, action) {\n\t\t\tstate.errorLogout = action.payload;\n\t\t},\n\t\tregistration(state, action) {\n\t\t\tstate.registration = action.payload;\n\t\t},\n\t\tstartLoadRegistration(state, action) {\n\t\t\tstate.loadRegistration = true;\n\t\t},\n\t\tendLoadRegistration(state, action) {\n\t\t\tstate.loadRegistration = false;\n\t\t},\n\t\terrorRegistration(state, action) {\n\t\t\tstate.errorRegistration = action.payload;\n\t\t},\n\t\tuser(state, action) {\n\t\t\tstate.user = {...action.payload};\n\t\t},\n\t\tuserInfo(state, action) {\n\t\t\tconst newUser = {...state.user}\n\t\t\tnewUser.userInfo = action.payload;\n\t\t\tstate.user = newUser;\n\t\t},\n\t\tstartLoadGetUser(state, action) {\n\t\t\tstate.loadGetUser = true;\n\t\t},\n\t\tendLoadGetUser(state, action) {\n\t\t\tstate.loadGetUser = false;\n\t\t},\n\t\tstartLoadSetUser(state, action) {\n\t\t\tstate.loadSetUser = true;\n\t\t},\n\t\tendLoadSetUser(state, action) {\n\t\t\tstate.loadSetUser = false;\n\t\t},\n\t\terrorSetUser(state, action) {\n\t\t\tstate.errorSetUser = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tlogin, startLoadLogin, endLoadLogin, errorLogin, \n\t\t\t\tlogout, startLoadLogout, endLoadLogout, errorLogout, \n\t\t\t\tregistration, startLoadRegistration, endLoadRegistration, errorRegistration, \n\t\t\t\tuserInfo, user, startLoadGetUser, endLoadGetUser, startLoadSetUser, endLoadSetUser, errorSetUser} = storeUserUser.actions;\n\nexport default storeUserUser.reducer;\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserLikes = createSlice({\n\tname: 'userLikes',\n\tinitialState: {\n\t\tlikes: 0,\n\t\tlike: null,\n\t\tloadNewLike: false\n\t},\n\treducers: {\n\t\tsetCountLikes(state, action) {\n\t\t\tstate.likes = action.payload * 1;\n\t\t},\n\t\tnewLike(state, action) {\n\t\t\tstate.like = action.payload;\n\t\t\tstate.likes = state.likes + 1;\n\t\t},\n\t\tstartLoadNewLike(state, action) {\n\t\t\tstate.loadNewLike = true;\n\t\t},\n\t\tendLoadNewLike(state, action) {\n\t\t\tstate.loadNewLike = false;\n\t\t},\n\t\terrorNewLike(state, action) {\n\t\t\tstate.errorNewLike = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setCountLikes, newLike, startLoadNewLike, endLoadNewLike, errorNewLike} = storeUserLikes.actions;\n\nexport default storeUserLikes.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {login, startLoadLogin, endLoadLogin, errorLogin, \n\t\tlogout, startLoadLogout, endLoadLogout, errorLogout, \n\t\tregistration, startLoadRegistration, endLoadRegistration, errorRegistration, \n\t\tuser, userInfo, startLoadGetUser, endLoadGetUser, startLoadSetUser, endLoadSetUser, errorSetUser} from \"../user.user.js\";\nimport {setCountLikes} from \"../user.likes.js\";\n\nfunction* loginSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadLogin());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/auth/api/login`,\n\t\t\tdata: {username: payload.user, password: payload.password},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(login(true));\n\t} catch(e) {\n\t\tyield put(errorLogin(e));\n\t} finally {\n\t\tyield put(endLoadLogin());\n\t}\n}\n\nfunction* logoutSaga({payload = {}}) {\n\tyield put(startLoadLogout());\n\tconst res = yield call(request, {\n\t\tmethod: 'post',\n\t\turl: `/auth/api/logout`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(logout(true));\n\tyield put(endLoadLogout());\n}\n\nfunction* registrationSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRegistration());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/auth/api/registration`,\n\t\t\tdata: {username: payload.user, password: payload.password, password2: payload.password2, email: payload.email, first_name: payload.first_name, last_name: payload.last_name},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(registration(true));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRegistration(e));\n\t} finally {\n\t\tyield put(endLoadRegistration());\n\t}\n}\n\nfunction* getUserSaga() {\n\tyield put(startLoadGetUser());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/user`,\n\t\t...defaultRequestSettings\n\t});\n\t\n\tyield put(setCountLikes(res.data.countUserLike));\n\tyield put(user(res.data));\n\tyield put(endLoadGetUser());\n}\n\nfunction* setUserSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadSetUser());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/user-settings`,\n\t\t\tdata: {id: payload.id, first_name: payload.first_name, last_name: payload.last_name, langId: payload.langId, themeId: payload.themeId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(userInfo(res.data));\n\t} catch(e) {\n\t\tyield put(errorSetUser(e));\n\t} finally {\n\t\tyield put(endLoadSetUser());\n\t}\n}\n\nconst FETCH_LOGIN = 'FETCH_LOGIN';\nconst FETCH_LOGOUT = 'FETCH_LOGOUT';\nconst FETCH_REGISTRATION = 'FETCH_REGISTRATION';\nconst FETCH_GET_USER = 'FETCH_GET_USER';\nconst FETCH_SET_USER = 'FETCH_SET_USER';\n\nexport const userUserSagas = createSagas([\n\t[FETCH_LOGIN, loginSaga],\n\t[FETCH_LOGOUT, logoutSaga],\n\t[FETCH_REGISTRATION, registrationSaga],\n\t[FETCH_GET_USER, getUserSaga],\n\t[FETCH_SET_USER, setUserSaga]\n]);\n\nexport const {sagaLogin, sagaLogout, sagaRegistration, sagaSetUser, sagaGetUser} = createActions({\n\tsagaLogin: FETCH_LOGIN,\n\tsagaLogout: FETCH_LOGOUT,\n\tsagaRegistration: FETCH_REGISTRATION,\n\tsagaGetUser: FETCH_GET_USER,\n\tsagaSetUser: FETCH_SET_USER\n});\n","import React, {useCallback, useEffect} from \"react\";\nimport {Routes, Route, Link, useNavigate, useLocation} from \"react-router-dom\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Navbar, Nav, Container, Button, Badge, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport {sagaLogout, sagaGetUser} from '../redux/saga/user.user.js';\nimport {logout as logoutAC} from '../redux/user.user.js';\n\nexport default function TopNavBar() {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\tconst dispatch = useDispatch();\n\tconst logout = useSelector((state) => state.userUser.logout);\n\tconst user = useSelector((state) => state.userUser.user);\n\tconst likes = useSelector((state) => state.userLikes.likes);\n\n\tconst logOutFn = useCallback(() => {dispatch(sagaLogout())}, []);\n\n\tuseEffect(() => {\n\t\tif(logout) {\n\t\t\tnavigate('/');\n\t\t\tdispatch(logoutAC());\n\t\t\tremoveCookie('Roles');\n\t\t}\n\t}, [logout]);\n\n\tuseEffect(() => {\n\t\tif(isAdmin(cookies.Roles) || isEditor(cookies.Roles) || isUser(cookies.Roles)) dispatch(sagaGetUser());\n\t}, []);\n\n\tlet name = `${user.userInfo?.first_name+''} ${user.userInfo?.last_name+''}`;\n\tif(name.length > 15) name = name.substring(0, 15)+'...';\n\n\treturn (\n\t\t<Navbar bg=\"light\" variant=\"light\" expand=\"lg\" className=\"border border-primary rounded\">\n\t\t\t<Container>\n\t\t\t\t<Navbar.Brand href=\"/\">What to play? look? read?</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t<Nav className=\"me-auto\">\n\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/reviews\">Reviews</Link></Nav.Item>\n\t\t\t\t\t\t{isEditor(cookies.Roles)?<Nav.Item><Link className=\"nav-link\" to=\"/my-reviews\">MyReviews</Link></Nav.Item>:<></>}\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t{isAdmin(cookies.Roles)?<Nav.Item><Nav.Link href=\"/admin\">ADMIN-PANEL</Nav.Link></Nav.Item>:<></>}\n\t\t\t\t\t\t{(!isAdmin(cookies.Roles)&&!isEditor(cookies.Roles)&&!isUser(cookies.Roles))?(<>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/registration\">Registration</Link></Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/login\">Login</Link></Nav.Item>\n\t\t\t\t\t\t</>):(<>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/user\">[{name}]<Badge bg=\"success\">{likes} Likes</Badge></Link></Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item><Button variant=\"outline-danger\" onClick={logOutFn}>LogOut</Button></Nav.Item>\n\t\t\t\t\t\t</>)}\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Container>\n\t\t</Navbar>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useNavigate, Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Nav} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport {errorLogin, login as loginAC} from '../redux/user.user.js';\nimport {sagaLogin} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tuser: Yup.string().required('Username is required')\n\t\t.min(4, 'Username must be at least 4 characters')\n\t\t.max(20, 'Username must not exceed 20 characters'),\n\tpassword: Yup.string().required('Password is required')\n\t\t.min(6, 'Password must be at least 6 characters')\n\t\t.max(40, 'Password must not exceed 40 characters')\n});\n\nexport default function LogIn(props) {\n\tconst {t} = useTranslation();\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst error = useSelector((state) => state.userUser.errorLogin);\n\tconst login = useSelector((state) => state.userUser.login);\n\n\tuseEffect(() => {\n\t\tif(login) {\n\t\t\tnavigate('/user');\n\t\t\tdispatch(loginAC(false));\n\t\t}\n\t}, [login]);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorLogin(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.message || error.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>Authorization</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaLogin(data))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicUsername\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">User login</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"user\")} type=\"text\" placeholder=\"Enter login\" isInvalid={!!errors.user} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.user?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Password</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password\")} type=\"password\" placeholder=\"Password\" isInvalid={!!errors.password} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.password?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">LogIn</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"border-top border-primary mt-2 mb-2\"></Row>\n\t\t\t<Row className=\"mb-2 justify-content-center\">\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/github\" class=\"btn btn-outline-success\" role=\"button\" aria-pressed=\"true\">logIn with GitHub</a>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {Container, Row, Col, Button} from 'react-bootstrap';\n\nexport default function ReviewLists() {\n\t\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1\">\n\t\t\t<Row>\n\t\t\t\t<Col className=\"mt-3 mb-3\">\n\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t<Col><input className=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" /></Col>\n\t\t\t\t\t\t<Col sm=\"auto\"><button className=\"btn btn-outline-primary my-2 my-sm-0\" type=\"submit\">Search</button></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport LogIn from '../components/LogIn';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<LogIn />\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useNavigate} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport {errorRegistration, registration as registrationAC} from '../redux/user.user.js';\nimport {sagaRegistration} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tuser: Yup.string().required('Username is required')\n\t\t.min(4, 'Username must be at least 4 characters')\n\t\t.max(20, 'Username must not exceed 20 characters'),\n\tpassword: Yup.string().required('Password is required')\n\t\t.min(6, 'Password must be at least 6 characters')\n\t\t.max(40, 'Password must not exceed 40 characters'),\n\tpassword2: Yup.string().required('Password2 is required')\n\t\t.min(6, 'Password2 must be at least 6 characters')\n\t\t.max(40, 'Password2 must not exceed 40 characters')\n\t\t.oneOf([Yup.ref('password'), null], 'Passwords must match'),\n\temail: Yup.string().required('Email is required')\n\t\t.min(6, 'Email must be at least 6 characters')\n\t\t.max(40, 'Email must not exceed 40 characters')\n\t\t.email('Invalid Email'),\n\tfirst_name: Yup.string(),\n\tlast_name: Yup.string(),\n});\n\nexport default function LogIn(props) {\n\tconst {t} = useTranslation();\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst error = useSelector((state) => state.userUser.errorRegistration);\n\tconst registration = useSelector((state) => state.userUser.registration);\n\t\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\t\n\tuseEffect(() => {\n\t\tif(registration) {\n\t\t\tnavigate('/user');\n\t\t\tdispatch(registrationAC(false));\n\t\t}\n\t}, [registration]);\n\t\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorRegistration(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>Registration</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaRegistration(data))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicFullName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Password</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"first_name\")} type=\"text\" placeholder=\"First name\" isInvalid={!!errors.first_name} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.first_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"last_name\")} type=\"text\" placeholder=\"Last name\" isInvalid={!!errors.last_name} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.last_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicUsername\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">User login</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"user\")} type=\"text\" placeholder=\"Enter login\" isInvalid={!!errors.user} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.user?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicEmail\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Email</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"email\")} type=\"email\" placeholder=\"email@email\" isInvalid={!!errors.email} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.email?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Password</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password\")} type=\"password\" placeholder=\"Password\" isInvalid={!!errors.password} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.password?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password2\")} type=\"password\" placeholder=\"Password 2\" isInvalid={!!errors.password2} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.password2?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Registration</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport Registration from '../components/Registration';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<Registration />\n\t\t</Container>\n\t)\n}\n","import React, {useRef, useEffect} from \"react\";\nimport {Navbar, Nav, Container, Button, Row, Col, Spinner} from 'react-bootstrap';\n\n// props size(width|height), variant, className, ignorePadding\nexport default function Filler(props) {\n\tconst element = useRef(null);\n\t\n\tuseEffect(() => {\n\t\tlet parent = element.current.parentNode;\n\t\t\n\t\tlet parentStyles = window.getComputedStyle(parent);\n\t\tlet oldPosition = parentStyles.position;\n\t\tparent.style.position = 'relative';\n\t\t\n\t\tlet width = (parseInt(parentStyles.width) - (props.ignorePadding?0:(parseInt(parentStyles.paddingRight) + parseInt(parentStyles.paddingLeft))))+'px';\n\t\tlet height = (parseInt(parentStyles.height) - (props.ignorePadding?0:(parseInt(parentStyles.paddingTop) + parseInt(parentStyles.paddingBottom))))+'px';\n\t\tlet left = props.ignorePadding?'0px':parentStyles.paddingLeft;\n\t\tlet top = props.ignorePadding?'0px':parentStyles.paddingTop;\n\t\t\n\t\tlet blur = document.createElement('div');\n\t\tblur.style.position = 'absolute';\n\t\tblur.style.display = 'block';\n\t\tblur.style.width = width;\n\t\tblur.style.height = height;\n\t\tblur.style.left = left;\n\t\tblur.style.top = top;\n\t\t\n\t\tparent.appendChild(blur);\n\t\tblur.style.zIndex = 10;\n\t\tblur.style.opacity = '0.2';\n\t\tblur.style.backgroundColor = 'orange';\n\t\tblur.classList.add(...(props.className?props.className.split(' '):[]));\n\t\t\n\t\tlet spinner = element.current;\n\t\tspinner.style.position = 'absolute';\n\t\tspinner.style.display = 'block';\n\t\tspinner.style.width = width;\n\t\tspinner.style.height = height;\n\t\tspinner.style.left = left;\n\t\tspinner.style.top = top;\n\t\tspinner.style.zIndex = 11;\n\t\t\n\t\treturn () => {\n\t\t\tparent.style.position = oldPosition;\n\t\t\tparent.removeChild(blur);\n\t\t\tspinner.style.display = 'none';\n\t\t}\n\t});\n\t\n\treturn (\n\t\t<div ref={element} style={{display: 'none'}} className={(props.className?props.className.toString():'')}>\n\t\t\t<Row style={{height: '100%'}} className=\"justify-content-center align-items-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<Spinner animation=\"border\" style={{width: props.size || 'auto', height: props.size || 'auto'}} variant={props.variant || 'warning'} />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserLangs = createSlice({\n\tname: 'userLangs',\n\tinitialState: {\n\t\tlangs: [],\n\t\tloadLangs: false\n\t},\n\treducers: {\n\t\tgetLangs(state, action) {\n\t\t\tstate.langs = [...action.payload];\n\t\t},\n\t\tstartLoadLangs(state, action) {\n\t\t\tstate.loadLangs = true;\n\t\t},\n\t\tendLoadLangs(state, action) {\n\t\t\tstate.loadLangs = false;\n\t\t}\n\t}\n});\n\nexport const {getLangs, startLoadLangs, endLoadLangs} = storeUserLangs.actions;\n\nexport default storeUserLangs.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getLangs, startLoadLangs, endLoadLangs} from \"../user.langs.js\";\n\nfunction* getAllLangsSaga({payload = {}}) {\n\tyield put(startLoadLangs());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/langs`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getLangs(res.data));\n\tyield put(endLoadLangs());\n}\n\nconst FETCH_GET_ALL_LANGS = 'FETCH_GET_ALL_LANGS';\n\nexport const userLangsSagas = createSagas([\n\t[FETCH_GET_ALL_LANGS, getAllLangsSaga]\n]);\n\nexport const {sagaGetAllLangs} = createActions({\n\tsagaGetAllLangs: FETCH_GET_ALL_LANGS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserThemes = createSlice({\n\tname: 'userThemes',\n\tinitialState: {\n\t\tthemes: [],\n\t\tloadThemes: false\n\t},\n\treducers: {\n\t\tgetThemes(state, action) {\n\t\t\tstate.themes = [...action.payload];\n\t\t},\n\t\tstartLoadThemes(state, action) {\n\t\t\tstate.loadThemes = true;\n\t\t},\n\t\tendLoadThemes(state, action) {\n\t\t\tstate.loadThemes = false;\n\t\t}\n\t}\n});\n\nexport const {getThemes, startLoadThemes, endLoadThemes} = storeUserThemes.actions;\n\nexport default storeUserThemes.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getThemes, startLoadThemes, endLoadThemes} from \"../user.themes.js\";\n\nfunction* getAllThemesSaga({payload = {}}) {\n\tyield put(startLoadThemes());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/themes`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getThemes(res.data));\n\tyield put(endLoadThemes());\n}\n\nconst FETCH_GET_ALL_THEMES = 'FETCH_GET_ALL_THEMES';\n\nexport const userThemesSagas = createSagas([\n\t[FETCH_GET_ALL_THEMES, getAllThemesSaga]\n]);\n\nexport const {sagaGetAllThemes} = createActions({\n\tsagaGetAllThemes: FETCH_GET_ALL_THEMES,\n});\n","import React, {Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Tabs, Tab} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport Filler from './Filler';\n\nimport {sagaGetAllLangs} from '../redux/saga/user.langs.js';\nimport {sagaGetAllThemes} from '../redux/saga/user.themes.js';\nimport {errorSetUser} from '../redux/user.user.js';\nimport {sagaSetUser} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tfirst_name: Yup.string(),\n\tlast_name: Yup.string(),\n\tlangId: Yup.number().required('lang ID is required'),\n\tthemeId: Yup.number().required('Theme ID is required')\n});\n\nexport default function UserSettings(props) {\n\tconst {t} = useTranslation();\n\tconst [firstRender, setFirstRender] = useState(true);\n\tconst dispatch = useDispatch();\n\tconst user = useSelector((state) => state.userUser.user);\n\tconst loadGetUser = useSelector((state) => state.userUser.loadGetUser);\n\tconst error = useSelector((state) => state.userUser.errorSetUser);\n\tconst loadSetUser = useSelector((state) => state.userUser.loadSetUser);\n\n\tconst langs = useSelector((state) => state.userLangs.langs);\n\tconst loadLangs = useSelector((state) => state.userLangs.loadLangs);\n\tconst themes = useSelector((state) => state.userThemes.themes);\n\tconst loadThemes = useSelector((state) => state.userThemes.loadThemes);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tuseLayoutEffect(() => {\n\t\tdispatch(sagaGetAllLangs());\n\t\tdispatch(sagaGetAllThemes());\n\t\tsetFirstRender(false);\n\t}, []);\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t{(loadGetUser || !user.userInfo)?<Filler ignorePadding={true} className=\"rounded\" size=\"3.5rem\" />:null}\n\t\t\t{loadSetUser?<Filler ignorePadding={true} className=\"rounded\" size=\"5rem\" />:null}\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorSetUser(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason || error.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>User Settings</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaSetUser({id: user.userInfo?.id, ...data}))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicFirstName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">First name</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGetUser && user.userInfo)?<Form.Control {...register(\"first_name\")} defaultValue={user.userInfo.first_name} type=\"text\" placeholder=\"Enter first name\" isInvalid={!!errors.first_name} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.first_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicLastName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Last name</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGetUser && user.userInfo)?<Form.Control {...register(\"last_name\")} defaultValue={user.userInfo.last_name} type=\"text\" placeholder=\"Enter last name\" isInvalid={!!errors.last_name} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.last_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicLang\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Language</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{loadLangs?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadLangs && user.userInfo)?<Form.Select {...register(\"langId\")} defaultValue={user.userInfo.langId} isInvalid={!!errors.lang}>\n\t\t\t\t\t\t\t\t\t{langs.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{entry.title}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.lang?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTheme\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Theme</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{loadThemes?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadThemes && user.userInfo)?<Form.Select {...register(\"themeId\")} defaultValue={user.userInfo.themeId} isInvalid={!!errors.theme}>\n\t\t\t\t\t\t\t\t\t{themes.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{entry.title}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.theme?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Save</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport UserSettings from '../components/UserSettings';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<UserSettings />\n\t\t</Container>\n\t)\n}\n","import React from \"react\";\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {Navbar, Nav, Container, Button, Row, Col} from 'react-bootstrap';\n\nexport default function BodyContent(props) {\n\n\treturn (\n\t\t<Row>\n\t\t\t<Col style={{paddingRight: '.125rem'}}>{props.content}{props.addContent?props.addContent:null}</Col>\n\t\t\t<Col md=\"auto\" style={{paddingLeft: '.125rem'}}>{props.rightbar}</Col>\n\t\t</Row>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserRatings = createSlice({\n\tname: 'userRatings',\n\tinitialState: {\n\t\trating: 0,\n\t\tloadNewRating: false\n\t},\n\treducers: {\n\t\tsetRating(state, action) {\n\t\t\tstate.rating = action.payload * 1;\n\t\t},\n\t\tnewRating(state, action) {\n\t\t\tstate.rating = action.payload.userRating;\n\t\t},\n\t\tstartLoadNewRating(state, action) {\n\t\t\tstate.loadNewRating = true;\n\t\t},\n\t\tendLoadNewRating(state, action) {\n\t\t\tstate.loadNewRating = false;\n\t\t},\n\t\terrorNewRating(state, action) {\n\t\t\tstate.errorNewRating = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setRating, newRating, startLoadNewRating, endLoadNewRating, errorNewRating} = storeUserRatings.actions;\n\nexport default storeUserRatings.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {setRating, newRating, startLoadNewRating, endLoadNewRating, errorNewRating} from \"../user.ratings.js\";\n\nfunction* newRatingSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewRating());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/rating-new`,\n\t\t\tdata: {rating: payload.rating, reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newRating(res.data));\n\t} catch(e) {\n\t\tyield put(errorNewRating(e));\n\t} finally {\n\t\tyield put(endLoadNewRating());\n\t}\n}\n\nconst FETCH_NEW_RATING = 'FETCH_NEW_RATING';\n\nexport const userRatingsSagas = createSagas([\n\t[FETCH_NEW_RATING, newRatingSaga]\n]);\n\nexport const {sagaNewRating} = createActions({\n\tsagaNewRating: FETCH_NEW_RATING,\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Rating from 'react-rating';\n\nimport Filler from './Filler';\n\nimport {sagaNewRating} from '../redux/saga/user.ratings.js';\n\nexport default function ReviewRating(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [newRating, setNewRating] = useState(null);\n\tconst rating = useSelector((state) => state.userRatings.rating);\n\tconst loadNewRating = useSelector((state) => state.userRatings.loadNewRating);\n\n\tconst currentEvent = useRef(false);\n\n\tuseLayoutEffect(() => {\n\t\tif(!firstUpdate.current && currentEvent.current) {\n\t\t\tsetNewRating(rating);\n\t\t\tcurrentEvent.current = false;\n\t\t}\n\t}, [rating]);\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t});\n\n\tconst defValue = props.data.length > 0?props.data[0].userRating:(newRating !== null?newRating:0);\n\tconst isDisabled = props.data.length > 0 || newRating !== null;\n\n\treturn (\n\t\t<>\n\t\t\t{loadNewRating && currentEvent.current?<Filler size='1.5rem' />:null}\n\t\t\t<Rating readonly={isDisabled} initialRating={defValue} onChange={(value) => {\n\t\t\t\tcurrentEvent.current = true;\n\t\t\t\tdispatch(sagaNewRating({rating: value, reviewId: props.reviewId}));\n\t\t\t}} />\n\t\t</>\n\t)\n}\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {newLike, startLoadNewLike, endLoadNewLike, errorNewLike} from \"../user.likes.js\";\n\nfunction* newLikeSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewLike());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/like-new`,\n\t\t\tdata: {reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newLike(res.data));\n\t} catch(e) {\n\t\tyield put(errorNewLike(e));\n\t} finally {\n\t\tyield put(endLoadNewLike());\n\t}\n}\n\nconst FETCH_NEW_LIKE = 'FETCH_NEW_LIKE';\n\nexport const userLikesSagas = createSagas([\n\t[FETCH_NEW_LIKE, newLikeSaga]\n]);\n\nexport const {sagaNewLike} = createActions({\n\tsagaNewLike: FETCH_NEW_LIKE,\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Filler from './Filler';\n\nimport {sagaNewLike} from '../redux/saga/user.likes.js';\n\nexport default function ReviewLike(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [newLike, setNewLike] = useState(null);\n\tconst like = useSelector((state) => state.userLikes.like);\n\tconst loadNewLike = useSelector((state) => state.userLikes.loadNewLike);\n\n\tconst currentEvent = useRef(false);\n\n\tuseLayoutEffect(() => {//console.log(like, firstUpdate.current, currentEvent.current)\n\t\tif(!firstUpdate.current && currentEvent.current) {\n\t\t\tsetNewLike(like.like);\n\t\t\tcurrentEvent.current = false;\n\t\t}\n\t}, [like]);\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t});\n\n\tconst isDisabled = props.data.length > 0 || newLike !== null;\n\n\treturn (\n\t\t<>\n\t\t\t{loadNewLike && currentEvent.current?<Filler size='1.5rem' />:null}\n\t\t\t<Button variant=\"danger\" disabled={isDisabled} size=\"sm\" onClick={() => {\n\t\t\t\tcurrentEvent.current = true;\n\t\t\t\tdispatch(sagaNewLike({reviewId: props.reviewId}));\n\t\t\t}}>Like</Button>\n\t\t</>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport ReviewRating from './ReviewRating';\nimport ReviewLike from './ReviewLike';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"align-items-center mt-1 mb-1\">\n\t\t\t\t<Col>\n\t\t\t\t\t<span className=\"h6\">{props.group}</span>\n\t\t\t\t\t<span> / </span>\n\t\t\t\t\t<Link to={\"/review/\"+props.id}><span className=\"h6\">{props.title}</span></Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewRating data={props.ratings} reviewId={props.id} />:null}\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewLike data={props.likes} reviewId={props.id} />:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col sm=\"3\">\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center\" style={{marginRight: '5px'}}>\n\t\t\t\t\t\t<Col className=\"text-info\"><h1>{props.authorRating}</h1></Col>\n\t\t\t\t\t\t<Col><span className=\"text-secondary\">{props.author[0]} {props.author[1]}</span></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t\t<Col><ReactMarkdown>{props.description}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center mt-1 mb-1\">\n\t\t\t\t<Col><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<Link to={\"/review/\"+props.id}><span className=\"h6\">full review</span></Link>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","export function unique(array) {\n\treturn array.filter(onlyUnique);\n}\n\nfunction onlyUnique(value, index, self) {\n\treturn self.lastIndexOf(value) === index;\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorTags = createSlice({\n\tname: 'editorTags',\n\tinitialState: {\n\t\ttags: [],\n\t\tloadTags: false,\n\t\tloadNewTag: false,\n\t\terrorNewTag: false,\n\t\tnewTag: false\n\t},\n\treducers: {\n\t\tgetTags(state, action) {\n\t\t\tstate.tags = [...action.payload];\n\t\t},\n\t\tstartLoadTags(state, action) {\n\t\t\tstate.loadTags = true;\n\t\t},\n\t\tendLoadTags(state, action) {\n\t\t\tstate.loadTags = false;\n\t\t},\n\t\tstartLoadNewTag(state, action) {\n\t\t\tstate.loadNewTag = true;\n\t\t},\n\t\tendLoadNewTag(state, action) {\n\t\t\tstate.loadNewTag = false;\n\t\t},\n\t\terrorNewTag(state, action) {\n\t\t\tstate.errorNewTag = action.payload;\n\t\t},\n\t\tnewTag(state, action) {\n\t\t\tstate.tags = [action.payload, ...state.tags];\n\t\t\tstate.newTag = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tgetTags, startLoadTags, endLoadTags,\n\t\t\t\tstartLoadNewTag, endLoadNewTag, errorNewTag, newTag} = storeEditorTags.actions;\n\nexport default storeEditorTags.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getTags, startLoadTags, endLoadTags, startLoadNewTag, endLoadNewTag, errorNewTag, newTag} from \"../editor.tags.js\";\n\nfunction* getPartTagsSaga({payload = {}}) {\n\tyield put(startLoadTags());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/part-tags/`+encodeURIComponent(payload),\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getTags(res.data));\n\tyield put(endLoadTags());\n}\n\nfunction* newTagSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewTag());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/tag-new`,\n\t\t\tdata: {tag: payload},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newTag(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewTag(e));\n\t} finally {\n\t\tyield put(endLoadNewTag());\n\t}\n}\n\nconst FETCH_GET_PART_TAGS = 'FETCH_GET_PART_TAGS';\nconst FETCH_NEW_TAG = 'FETCH_NEW_TAG';\n\nexport const editorTagsSagas = createSagas([\n\t[FETCH_GET_PART_TAGS, getPartTagsSaga],\n\t[FETCH_NEW_TAG, newTagSaga]\n]);\n\nexport const {sagaGetPartTags, sagaNewTag} = createActions({\n\tsagaGetPartTags: FETCH_GET_PART_TAGS,\n\tsagaNewTag: FETCH_NEW_TAG\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorGroups = createSlice({\n\tname: 'editorGroups',\n\tinitialState: {\n\t\tgroups: [],\n\t\tloadGroups: false\n\t},\n\treducers: {\n\t\tgetGroups(state, action) {\n\t\t\tstate.groups = [...action.payload];\n\t\t},\n\t\tstartLoadGroups(state, action) {\n\t\t\tstate.loadGroups = true;\n\t\t},\n\t\tendLoadGroups(state, action) {\n\t\t\tstate.loadGroups = false;\n\t\t}\n\t}\n});\n\nexport const {getGroups, startLoadGroups, endLoadGroups} = storeEditorGroups.actions;\n\nexport default storeEditorGroups.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getGroups, startLoadGroups, endLoadGroups} from \"../editor.groups.js\";\n\nfunction* getAllGroupsSaga({payload = {}}) {\n\tyield put(startLoadGroups());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/groups`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getGroups(res.data));\n\tyield put(endLoadGroups());\n}\n\nconst FETCH_GET_ALL_GROUPS = 'FETCH_GET_ALL_GROUPS';\n\nexport const editorGroupsSagas = createSagas([\n\t[FETCH_GET_ALL_GROUPS, getAllGroupsSaga]\n]);\n\nexport const {sagaGetAllGroups} = createActions({\n\tsagaGetAllGroups: FETCH_GET_ALL_GROUPS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorTitles = createSlice({\n\tname: 'editorTitles',\n\tinitialState: {\n\t\ttitles: [],\n\t\tloadTitles: false,\n\t\tloadNewTitle: false,\n\t\terrorNewTitle: false,\n\t\tnewTitle: false\n\t},\n\treducers: {\n\t\tgetTitles(state, action) {\n\t\t\tstate.titles = [...action.payload];\n\t\t},\n\t\tstartLoadTitles(state, action) {\n\t\t\tstate.loadTitles = true;\n\t\t},\n\t\tendLoadTitles(state, action) {\n\t\t\tstate.loadTitles = false;\n\t\t},\n\t\tstartLoadNewTitle(state, action) {\n\t\t\tstate.loadNewTitle = true;\n\t\t},\n\t\tendLoadNewTitle(state, action) {\n\t\t\tstate.loadNewTitle = false;\n\t\t},\n\t\terrorNewTitle(state, action) {\n\t\t\tstate.errorNewTitle = action.payload;\n\t\t},\n\t\tnewTitle(state, action) {\n\t\t\tstate.titles = [action.payload, ...state.titles];\n\t\t\tstate.newTitle = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tgetTitles, startLoadTitles, endLoadTitles,\n\t\t\t\tstartLoadNewTitle, endLoadNewTitle, errorNewTitle, newTitle} = storeEditorTitles.actions;\n\nexport default storeEditorTitles.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getTitles, startLoadTitles, endLoadTitles, startLoadNewTitle, endLoadNewTitle, errorNewTitle, newTitle} from \"../editor.titles.js\";\n\nfunction* getPartTitlesSaga({payload = {}}) {\n\tyield put(startLoadTitles());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/part-titles/`+encodeURIComponent(payload),\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getTitles(res.data));\n\tyield put(endLoadTitles());\n}\n\nfunction* newTitleSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewTitle());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/title-new`,\n\t\t\tdata: {title: payload.title, description: payload.description},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newTitle(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewTitle(e));\n\t} finally {\n\t\tyield put(endLoadNewTitle());\n\t}\n}\n\nconst FETCH_GET_PART_TITLES = 'FETCH_GET_PART_TITLES';\nconst FETCH_NEW_TITLE = 'FETCH_NEW_TITLE';\n\nexport const editorTitlesSagas = createSagas([\n\t[FETCH_GET_PART_TITLES, getPartTitlesSaga],\n\t[FETCH_NEW_TITLE, newTitleSaga]\n]);\n\nexport const {sagaGetPartTitles, sagaNewTitle} = createActions({\n\tsagaGetPartTitles: FETCH_GET_PART_TITLES,\n\tsagaNewTitle: FETCH_NEW_TITLE\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorEditors = createSlice({\n\tname: 'guestEditors',\n\tinitialState: {\n\t\t//editors: [],\n\t\tpartEditors: [],\n\t\tloadEditors: false\n\t},\n\treducers: {\n\t\tgetEditors(state, action) {\n\t\t\t//state.editors = [...state.editors, ...action.payload];\n\t\t\tstate.partEditors = [...action.payload];\n\t\t},\n\t\tstartLoadEditors(state, action) {\n\t\t\tstate.loadTiltes = true;\n\t\t},\n\t\tendLoadEditors(state, action) {\n\t\t\tstate.loadTiltes = false;\n\t\t}\n\t}\n});\n\nexport const {getEditors, startLoadEditors, endLoadEditors} = storeEditorEditors.actions;\n\nexport default storeEditorEditors.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getEditors, startLoadEditors, endLoadEditors} from \"../guest.editors.js\";\n\nfunction* getPartEditorsSaga({payload = {}}) {\n\tyield put(startLoadEditors());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/editor-short-part/`,\n\t\tparams: {page: payload.page},\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getEditors(res.data));\n\tyield put(endLoadEditors());\n}\n\nconst FETCH_GET_PART_EDITORS = 'FETCH_GET_PART_EDITORS';\n\nexport const guestEditorsSagas = createSagas([\n\t[FETCH_GET_PART_EDITORS, getPartEditorsSaga],\n]);\n\nexport const {sagaGetPartEditors} = createActions({\n\tsagaGetPartEditors: FETCH_GET_PART_EDITORS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeCustomFilter = createSlice({\n\tname: 'customFilter',\n\tinitialState: {\n\t\tfilter: {},\n\t\teditorFilter: {}\n\t},\n\treducers: {\n\t\tsetFilterData(state, action) {\n\t\t\tstate.filter = action.payload;\n\t\t},\n\t\tsetEditorFilterData(state, action) {\n\t\t\tstate.editorFilter = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setFilterData, setEditorFilterData} = storeCustomFilter.actions;\n\nexport default storeCustomFilter.reducer;\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar, Popover, OverlayTrigger} from 'react-bootstrap';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\nimport {useForm, useController, Controller} from 'react-hook-form';\nimport AsyncSelect from 'react-select/async';\nimport {AsyncPaginate} from 'react-select-async-paginate';\nimport {useSearchParams, useNavigate} from \"react-router-dom\";\n\nimport {unique} from '../helpers/unique.js';\n\nimport {sagaGetPartTags} from '../redux/saga/editor.tags.js';\nimport {sagaGetAllGroups} from '../redux/saga/editor.groups.js';\nimport {sagaGetPartTitles} from '../redux/saga/editor.titles.js';\nimport {sagaGetPartEditors} from '../redux/saga/guest.editors.js';\n\nimport {setFilterData, setEditorFilterData} from '../redux/custom.filter.js';\n\n// prop with authors, sortField, typeFilter(user|editor)\n export default function PopoverFilterReviews(props) {\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\tconst {register, handleSubmit, setValue, control, reset, formState: {errors}} = useForm(/*{resolver: yupResolver(validationSchema)}*/);\n\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\tconst editorFilter = useSelector((state) => state.customFilter.editorFilter);\n\tconst filter = useSelector((state) => state.customFilter.filter);\n\n\tconst filterData = props.typeFilter === 'editor'?editorFilter:filter;\n\n\tconst [callbackGroupSelect, setCallbackGroupSelect] = useState(null);\n\tconst [callbackEditorSelect, setCallbackEditorSelect] = useState(null);\n\n\tconst tags = useSelector((state) => state.editorTags.tags);\n\tconst loadTags = useSelector((state) => state.editorTags.loadTags);\n\n\tconst groups = useSelector((state) => state.editorGroups.groups);\n\tconst loadGroups = useSelector((state) => state.editorGroups.loadGroups);\n\n\tconst titles = useSelector((state) => state.editorTitles.titles);\n\tconst loadTitles = useSelector((state) => state.editorTitles.loadTitles);\n\n\t//const editors = useSelector((state) => state.guestEditors.editors);\n\tconst partEditors = useSelector((state) => state.guestEditors.partEditors);\n\tconst loadEditors = useSelector((state) => state.guestEditors.loadEditors);\n\n\t// with react-select\n\tuseLayoutEffect(() => {\n\t\tif(groups && groups.length > 0 && callbackGroupSelect) {\n\t\t\tcallbackGroupSelect.callback(groups.map((entry) => ({value: entry.id,  label: entry.group})));\n\t\t}\n\t}, [groups]);\n\n\t// with react-select\n\tuseLayoutEffect(() => {\n\t\tif(partEditors && callbackEditorSelect) {\n\t\t\tif(partEditors.length > 0) {\n\t\t\t\tcallbackEditorSelect.callback({\n\t\t\t\t\toptions: partEditors.map((entry) => {\n\t\t\t\t\t\tlet userName = (entry.user && entry.social_id)?entry.user+'/'+entry.social_id:(\n\t\t\t\t\t\t\tentry.user?entry.user:(entry.social_id?entry.social_id:'UNKNOWN')\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif(entry.userInfo) userName += `(${entry.userInfo.first_name} ${entry.userInfo.last_name})`;\n\t\t\t\t\t\treturn {value: entry.id,  label: userName};\n\t\t\t\t\t}),\n\t\t\t\t\thasMore: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallbackEditorSelect.callback({\n\t\t\t\t\toptions: [],\n\t\t\t\t\thasMore: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [partEditors]);\n\n\treturn (\n\t\t<OverlayTrigger rootClose={true} delay={0} trigger=\"click\" /*key={placement}*/ placement=\"bottom\" overlay={\n\t\t\t<Popover id=\"popover-filter-reviews\" style={{minWidth: '500px'}} >\n\t\t\t\t<Popover.Header as=\"h3\">Filter Selected Reviews</Popover.Header>\n\t\t\t\t<Popover.Body>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tlet query = Object.keys(data).reduce((acc, key) => {\n\t\t\t\t\t\t\tif(data[key]) {\n\t\t\t\t\t\t\t\tif(key === 'tags' || key === 'titles') {\n\t\t\t\t\t\t\t\t\tacc[key] = unique(data[key].map((entry) => entry.id));\n\t\t\t\t\t\t\t\t} else if(key === 'authors' || key === 'groups') {\n\t\t\t\t\t\t\t\t\tacc[key] = unique(data[key].map((entry) => entry.value));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tacc[key] = data[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tif(props.typeFilter === 'editor') {\n\t\t\t\t\t\t\tdispatch(setEditorFilterData(data))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdispatch(setFilterData(data))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnavigate((props.typeFilter === 'editor'?'/my-reviews':'/reviews')+'?'+queryString.stringify(query, {arrayFormat: 'bracket'}));\n\t\t\t\t\t\tdocument.body.click();\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formTags\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Tags</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"tags\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet tags = searchParams.getAll(\"tags[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(tags) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tags = tags.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterTags = filterData.tags || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn tags.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterTags.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {id: entry*1, tag: 'tag_id_'+entry}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-tags\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTags}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTags(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={tags} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.tags?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formGroups\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Groups</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"groups\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet groups = searchParams.getAll(\"groups[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(groups) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//groups = groups.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterGroups = filterData.groups || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn groups.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterGroups.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {value: entry*1, label: 'group_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncSelect //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackGroupSelect({callback});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetAllGroups());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//onInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.groups?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formTitles\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Titles</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"titles\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet titles = searchParams.getAll(\"titles[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(titles) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//titles = titles.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterTitles = filterData.titles || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn titles.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterTitles.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {id: entry*1, title: 'title_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-titles\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTitles}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTitles(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={titles} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.tags?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t{props.withAuthors?<Form.Group as={Row} className=\"mb-3\" controlId=\"formAuthos\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Authors</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"authors\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet authors = searchParams.getAll(\"authors[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(authors) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//authors = authors.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterAuthors = filterData.authos || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn authors.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterAuthors.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {value: entry*1, label: 'author_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncPaginate   //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={async (search, loadedOptions, {page}) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetPartEditors({page}));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst res = await new Promise((res, rej) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackEditorSelect({callback: (o) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\to.additional = {page: page + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres(o);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadditional={{page: 1}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.groups?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>:null}\n\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Sorting</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"sortField\")} defaultValue={searchParams.get(\"sortField\")} isInvalid={!!errors.sortField} >\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>Chose field</option>\n\t\t\t\t\t\t\t\t\t{props.sortFields.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry}>{entry}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.sortField?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">type</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"3\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"sortType\")} defaultValue={searchParams.get(\"sortType\")} isInvalid={!!errors.sortType} >\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>Chose type</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ASC\" >ASC</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DESC\">DESC</option>\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.sortType?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-danger\" type=\"button\" onClick={() => {\n\t\t\t\t\t\t\t\t\tnavigate('?');\n\t\t\t\t\t\t\t\t\tsetValue('groups', []);\n\t\t\t\t\t\t\t\t\tsetValue('authors', []);\n\t\t\t\t\t\t\t\t\tsetValue('tags', []);\n\t\t\t\t\t\t\t\t\tsetValue('titles', []);\n\t\t\t\t\t\t\t\t\tsetValue('sortField', null);\n\t\t\t\t\t\t\t\t\tsetValue('sortType', null);\n\t\t\t\t\t\t\t\t}}>reset</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-success\" type=\"submit\">filter</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Popover.Body>\n\t\t\t</Popover>\n\t\t} >\n\t\t\t<Button variant=\"outline-primary\">Filters</Button>\n\t\t</OverlayTrigger>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserReviews = createSlice({\n\tname: 'userReviews',\n\tinitialState: {\n\t\tdata: [],\n\t\tdataItem: {},\n\t\tdataItemLoading: false\n\t},\n\treducers: {\n\t\tmoreReviews(state, action) {\n\t\t\tstate.data = [...state.data, ...action.payload];\n\t\t},\n\t\tgetReviews(state, action) {\n\t\t\tstate.data = [...action.payload];\n\t\t},\n\t\tgetReview(state, action) {\n\t\t\tstate.dataItem = action.payload;\n\t\t\tstate.dataItemLoading = false;\n\t\t},\n\t\tgetReviewLoading(state, action) {\n\t\t\tstate.dataItemLoading = true;\n\t\t},\n\t\tgetReviewError(state, action) {\n\t\t\tstate.dataItemLoading = false;\n\t\t}\n\t}\n});\n\nexport const {moreReviews, getReviews, getReview, getReviewLoading, getReviewError} = storeUserReviews.actions;\n\nexport default storeUserReviews.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, getReviews, getReview, getReviewLoading, getReviewError} from \"../user.reviews.js\";\n/// EDITINIG !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nfunction* moreReviewsSaga({payload={}}) {\n\ttry {\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'get',\n\t\t\turl: `/${payload.isUser?'user':'guest'}/reviews`,\n\t\t\tparams: payload.params,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(moreReviews(res.data));\n\t} catch(e) {\n\t\tthrow e;\n\t}\n}\n\nfunction* getReviewsSaga({payload={}}) {\n\ttry {\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'get',\n\t\t\turl: `/${payload.isUser?'user':'guest'}/reviews`,\n\t\t\tparams: payload.params,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(getReviews(res.data));\n\t} catch(e) {\n\t\tthrow e;\n\t}\n}\n\nfunction* getReviewSaga({payload}) {\n\ttry {\n\t\tyield put(getReviewLoading());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'get',\n\t\t\turl: `/${payload.isUser?'user':'guest'}/review/${payload.id}`,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(getReview(res.data));\n\t} catch(e) {\n\t\tthrow e;\n\t}\n}\n\nconst FETCH_MORE_REVIEWS = 'FETCH_MORE_REVIEWS';\nconst FETCH_GET_REVIEWS = 'FETCH_GET_REVIEWS';\nconst FETCH_GET_REVIEW = 'FETCH_GET_REVIEW';\n\nexport const userReviewsSagas = createSagas([\n\t[FETCH_MORE_REVIEWS, moreReviewsSaga],\n\t[FETCH_GET_REVIEWS, getReviewsSaga],\n\t[FETCH_GET_REVIEW, getReviewSaga]\n]);\n\nexport const {sagaMoreReviews, sagaGetReviews, sagaGetReview} = createActions({\n\tsagaMoreReviews: FETCH_MORE_REVIEWS,\n\tsagaGetReviews: FETCH_GET_REVIEWS,\n\tsagaGetReview: FETCH_GET_REVIEW\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport ReviewItem from './ReviewItem';\nimport PopoverFilterReviews from './PopoverFilterReviews';\n\nimport {sagaGetReviews} from '../redux/saga/user.reviews.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nconst sortFields = [\n\t'authorRating',\n\t'averageEditorRating',\n\t'averageUserRating',\n\t'countComments',\n\t'createdAt',\n\t'updatedAt'\n];\n\nexport default function ReviewLists() {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst reviews = useSelector((state) => state.userReviews.data);\n\tconst dispatch = useDispatch();\n\n\tconst [searchParams] = useSearchParams();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReviews({params: searchParams, isUser: isUser(cookies.Roles)}));\n\t}, [searchParams]);\n\n\treturn (\n\t\t<div>\n\t\t\t<Row><Col>\n\t\t\t\t<Container className=\"border border-primary rounded bg-light mt-1\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md=\"auto\" className=\"mt-3 mb-3\">\n\t\t\t\t\t\t<PopoverFilterReviews withAuthors={true} sortFields={sortFields} typeFilter=\"guest\" />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</Col></Row>\n\t\t\t<Row><Col>{reviews.map((entry) => {\n\t\t\t\treturn <ReviewItem  key={entry.id}\n\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\ttitle={entry.groupTitle?.title?.title}\n\t\t\t\t\t\t\t\t\tgroup={entry.groupTitle?.group?.group}\n\t\t\t\t\t\t\t\t\tratings={entry.ratings || []}\n\t\t\t\t\t\t\t\t\tlikes={entry.likes || []}\n\t\t\t\t\t\t\t\t\tdescription={entry.description}\n\t\t\t\t\t\t\t\t\tdate={entry.createdAt}\n\t\t\t\t\t\t\t\t\tauthorRating={entry.authorRating}\n\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || 'Unknown', entry.user?.userInfo?.last_name || 'Unknown']}/>\n\t\t\t})}</Col></Row>\n\t\t</div>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserTags = createSlice({\n\tname: 'userTags',\n\tinitialState: {\n\t\tdata: []\n\t},\n\treducers: {\n\t\tgetAllTags(state, action) {\n\t\t\tstate.data = [...action.payload];\n\t\t}\n\t}\n});\n\nexport const {getAllTags} = storeUserTags.actions;\n\nexport default storeUserTags.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getAllTags} from \"../user.tags.js\";\n\n// editing!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nfunction* getAllTagsSaga({payload = {}}) {\n\ttry {\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'get',\n\t\t\turl: `/guest/tags${payload.order?'/order-true':''}`,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(getAllTags(res.data));\n\t} catch(e) {\n\t\tthrow e;\n\t}\n}\n\nconst FETCH_GET_ALL_TAGS = 'FETCH_GET_ALL_TAGS';\n\nexport const userTagsSagas = createSagas([\n\t[FETCH_GET_ALL_TAGS, getAllTagsSaga]\n]);\n\nexport const {sagaGetAllTags} = createActions({\n\tsagaGetAllTags: FETCH_GET_ALL_TAGS,\n});\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useNavigate} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport ReactWordcloud from 'react-wordcloud';\n\nimport {sagaGetAllTags} from '../redux/saga/user.tags.js';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst tags = useSelector((state) => state.userTags.data);\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\n\tconst wordIndexs = {};\n\tconst words = tags.map((entry) => {wordIndexs[entry.tag] = entry.id; return {value: entry.countReview, text: entry.tag}})\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetAllTags({order: true}));\n\t}, []);\n\n\treturn (\n\t\t<Row>\n\t\t\t<Col md=\"auto\">\n\t\t\t\t<ReactWordcloud className=\"border border-primary rounded bg-light mt-1 mb-1\"\n\t\t\t\t\t\t\t\twords={words}\n\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\trotations: 2,\n\t\t\t\t\t\t\t\t\trotationAngles: [0, 0],\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcallbacks={{\n\t\t\t\t\t\t\t\t\tgetWordTooltip: (word) => {return '';/*`Matches found for tag ${word.text} - ${word.value}`*/},\n\t\t\t\t\t\t\t\t\tonWordClick: (word, event) => {\n\t\t\t\t\t\t\t\t\t\tnavigate('/reviews'+'?'+queryString.stringify({tags: [wordIndexs[word.text]]}, {arrayFormat: 'bracket'}));\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonWordMouseOut: (word, event) => {\n\t\t\t\t\t\t\t\t\t\tevent.target.setAttribute('font-size', (Number.parseInt(event.target.getAttribute('font-size')) / 2) + 'px');\n\t\t\t\t\t\t\t\t\t\tevent.target.setAttribute('text-decoration', 'none');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonWordMouseOver: (word, event) => {\n\t\t\t\t\t\t\t\t\t\tevent.target.setAttribute('font-size', (Number.parseInt(event.target.getAttribute('font-size')) * 2) + 'px');\n\t\t\t\t\t\t\t\t\t\tevent.target.setAttribute('text-decoration', 'underline');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsize={[250, 250]} />\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewLists from '../components/ReviewLists';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent content={<ReviewLists />} rightbar={<RightBar />} />\n\t\t</Container>\n\t)\n}\n","export default class Paginator {\n\t#countRows = 0;\n\t#currentPage = 1;\n\t#lastAddCountRow = 0;\n\n\tconstructor(defaultCountRows) {\n\t\tthis.#countRows = defaultCountRows * 1;\n\t}\n\n\treplace(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...data];\n\t\tif(data.length >= this.#countRows) {\n\t\t\tthis.#currentPage++;// only 1 page\n\t\t\tthis.#lastAddCountRow = 0;\n\t\t} else {\n\t\t\tthis.#lastAddCountRow = data.length;\n\t\t}\n\t}\n\n\tremove(state, stateName, fn) {\n\t\tif(typeof fn !== 'function') throw new Error('Third argument must be Function');\n\t\tconst limit = state[stateName].length - this.#lastAddCountRow;\n\t\tstate[stateName] = state[stateName].filter((entry, index, array) => {\n\t\t\tconst res =  fn(entry, index, array);\n\t\t\tif(res) {\n\t\t\t\tthis.#lastAddCountRow--;\n\t\t\t\tif(this.#lastAddCountRow < 0) {\n\t\t\t\t\tthis.#lastAddCountRow = this.#countRows - 1;\n\t\t\t\t\tthis.#currentPage--;\n\t\t\t\t\tif(this.#currentPage < 1) this.#currentPage = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t});\n\t}\n\n\tappend(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...data, ...state[stateName]];\n\t}\n\n\taddWithReplace(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tif(this.#lastAddCountRow === 0) {\n\t\t\tstate[stateName] = [...state[stateName], ...data];\n\t\t} else {\n\t\t\tconst end = state[stateName].length - this.#lastAddCountRow;\n\t\t\tstate[stateName] = [state[stateName].slice(0, end<0?state[stateName].length:end), ...data];\n\t\t}\n\t\tif(data.length >= this.#countRows) {\n\t\t\tthis.#currentPage++;// only 1 page\n\t\t\tthis.#lastAddCountRow = 0;\n\t\t} else {\n\t\t\tthis.#lastAddCountRow = data.length;\n\t\t}\n\t}\n\n\taddToEnd(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...state[stateName], ...data];\n\t\tthis.#lastAddCountRow += data.length;\n\t\tif(this.#lastAddCountRow >= this.#countRows) {\n\t\t\tthis.#currentPage += Math.floor(this.#lastAddCountRow/this.#countRows);\n\t\t\tthis.#lastAddCountRow = this.#lastAddCountRow % this.#countRows;\n\t\t}\n\t}\n\n\tgetPageForQuery() {\n\t\treturn this.#currentPage;\n\t}\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeUserComments = createSlice({\n\tname: 'userComments',\n\tinitialState: {\n\t\treviewId: null,\n\n\t\tpaginator: new Paginator(20),\n\n\t\tcomments: [],\n\t\tcommentsLoading: false,\n\t\tcommentsMoreLoading: false,\n\t\tcommentsAutoUpdateLoading: false,\n\n\t\tnewComment: false,\n\t\tnewCommentLoading: false,\n\t\tnewCommentError: false\n\t},\n\treducers: {\n\t\tsetReviewId(state, action) {\n\t\t\tstate.reviewId = action.payload;\n\t\t},\n\n\t\tmoreComments(state, action) {\n\t\t\t//state.data = [...state.data, ...action.payload];\n\t\t\tstate.paginator.addWithReplace(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadMoreComments(state, action) {\n\t\t\tstate.commentsMoreLoading = true;\n\t\t},\n\t\tendLoadMoreComments(state, action) {\n\t\t\tstate.commentsMoreLoading = false;\n\t\t},\n\n\t\tgetComments(state, action) {\n\t\t\t//state.data = [...action.payload];\n\t\t\tstate.paginator.replace(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadGetComments(state, action) {\n\t\t\tstate.commentsLoading = true;\n\t\t},\n\t\tendLoadGetComments(state, action) {\n\t\t\tstate.commentsLoading = false;\n\t\t},\n\n\t\tstartLoadNewComment(state, action) {\n\t\t\tstate.newCommentLoading = true;\n\t\t},\n\t\tendLoadNewComment(state, action) {\n\t\t\tstate.newCommentLoading = false;\n\t\t},\n\t\tnewComment(state, action) {\n\t\t\tstate.newComment = action.payload;\n\t\t\t// ...\n\t\t},\n\t\terrorNewComment(state, action) {\n\t\t\tstate.newCommentError = action.payload;\n\t\t},\n\n\t\tautoUpdateComments(state, action) {\n\t\t\t//state.data = [...state.data, ...action.payload];\n\t\t\tstate.paginator.addToEnd(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadAutoUpdateComments(state, action) {\n\t\t\tstate.commentsAutoUpdateLoading = true;\n\t\t},\n\t\tendLoadAutoUpdateComments(state, action) {\n\t\t\tstate.commentsAutoUpdateLoading = false;\n\t\t},\n\t}\n});\n\nexport const {\tmoreComments, startLoadMoreComments, endLoadMoreComments,\n\t\t\t\tgetComments, startLoadGetComments, endLoadGetComments,\n\t\t\t\tautoUpdateComments, startLoadAutoUpdateComments, endLoadAutoUpdateComments,\n\t\t\t\tstartLoadNewComment, endLoadNewComment, newComment, errorNewComment,\n\t\t\t\tsetReviewId} = storeUserComments.actions;\n\nexport default storeUserComments.reducer;\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport {setReviewId} from '../redux/user.comments.js';\n\nimport {sagaGetReview} from '../redux/saga/user.reviews.js';\n\nimport ReviewRating from './ReviewRating';\nimport ReviewLike from './ReviewLike';\n\nexport default function ReviewFull(props) {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst {t} = useTranslation();\n\tconst review = useSelector((state) => state.userReviews.dataItem);\n\tconst reviewLoading = useSelector((state) => state.userReviews.dataItemLoading);\n\n\tconst dispatch = useDispatch();\n\tlet params = useParams();\n\tlet [firstRender, setFirstRender] = useState(true);\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReview({id: params.id, isUser: isUser(cookies.Roles)}));\n\t\tsetFirstRender(false);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif(review) dispatch(setReviewId(review.id));\n\t}, [review]);\n\n\tlet content, contentComments;\n\n\tif(reviewLoading || firstRender) {\n\t\tcontent = <h2>loading...</h2>\n\t} else {\n\t\tcontent = <Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col className=\"text-center\"><div>\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewRating data={review.ratings || []} reviewId={review.id} />:null}\n\t\t\t\t</div></Col><Col sm=\"auto\"><div>\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewLike data={review.likes || []} reviewId={review.id} />:null}\n\t\t\t\t</div></Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"text-center\">\n\t\t\t\t\t<span className=\"h2\">{review.groupTitle?.group?.group || 'Unknown'}</span>\n\t\t\t\t\t<span className=\"h2\"> / </span>\n\t\t\t\t\t<span className=\"h2\">{review.groupTitle?.title?.title || 'Unknown'}</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"border-bottom border-top border-primary pt-1 pb-1 mt-3 mb-3\">\n\t\t\t\t<Col><ReactMarkdown>{review.groupTitle?.title?.description || 'UNKNOWN'}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center\" style={{marginRight: '5px'}}>\n\t\t\t\t<Col><span className=\"h1 text-info\">{review.authorRating || 0}</span></Col>\n\t\t\t\t<Col>\n\t\t\t\t\t{review.user?<Link to={'/reviews'+'?'+queryString.stringify({authors: [review.userId]}, {arrayFormat: 'bracket'})}>\n\t\t\t\t\t\t<span>{review.user?.userInfo?.first_name || 'Unknown'} {review.user?.userInfo?.last_name || 'Unknown'}</span>\n\t\t\t\t\t</Link>:<>\n\t\t\t\t\t\t<span className=\"text-secondary\">{review.user?.userInfo?.first_name || 'Unknown'} {review.user?.userInfo?.last_name || 'Unknown'}</span>\n\t\t\t\t\t</>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col><ReactMarkdown>{review.text}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center text-success\">\n\t\t\t\t\t\t<Col><h1>{review.averageEditorRating || 0}</h1></Col>\n\t\t\t\t\t\t<Col><strong>Average Editors rating</strong></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center text-danger\">\n\t\t\t\t\t\t<Col><h1>{review.averageUserRating || 0}</h1></Col>\n\t\t\t\t\t\t<Col><strong>Average Users rating</strong></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>{(review.tags || []).map((entry, index) => {\n\t\t\t\t\treturn <span key={index} className=\"m-2\"><Link to={'/reviews'+'?'+queryString.stringify({tags: [entry.id]}, {arrayFormat: 'bracket'})}>{entry.tag}</Link></span>\n\t\t\t\t})}</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"text-end\">\n\t\t\t\t<Col><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t\t\t</Row>\n\t\t</Container>\n\t}\n\n\treturn (<>{content}</>)\n}\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreComments, startLoadMoreComments, endLoadMoreComments,\n\t\tgetComments, startLoadGetComments, endLoadGetComments,\n\t\tautoUpdateComments, startLoadAutoUpdateComments, endLoadAutoUpdateComments,\n\t\tstartLoadNewComment, endLoadNewComment, newComment, errorNewComment} from \"../user.comments.js\";\n\n\nfunction* getCommentsSaga({payload = {}}) {\n\tyield put(startLoadGetComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getComments(res.data));\n\tyield put(endLoadGetComments());\n}\n\nfunction* moreCommentsSaga({payload = {}}) {\n\tyield put(startLoadMoreComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreComments(res.data));\n\tyield put(endLoadMoreComments());\n}\n\nfunction* autoUpdateCommentsSaga({payload = {}}) {\n\tyield put(startLoadAutoUpdateComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/auto-update-comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(autoUpdateComments(res.data));\n\tyield put(endLoadAutoUpdateComments());\n}\n\nfunction* newCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewComment());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/new-comment`,\n\t\t\tdata: {comment: payload.comment, reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewComment(e));\n\t} finally {\n\t\tyield put(endLoadNewComment());\n\t}\n}\n\nconst FETCH_COMMENTS = 'FETCH_COMMENTS';\nconst FETCH_MORE_COMMENTS = 'FETCH_MORE_COMMENTS';\nconst FETCH_AUTO_UPDATE_COMMENTS = 'FETCH_AUTO_UPDATE_COMMENTS';\nconst FETCH_NEW_COMMENT = 'FETCH_NEW_COMMENT';\n\nexport const userCommentsSagas = createSagas([\n\t[FETCH_COMMENTS, getCommentsSaga],\n\t[FETCH_MORE_COMMENTS, moreCommentsSaga],\n\t[FETCH_AUTO_UPDATE_COMMENTS, autoUpdateCommentsSaga],\n\t[FETCH_NEW_COMMENT, newCommentSaga]\n]);\n\nexport const {sagaGetComments, sagaMoreComments, sagaAutoUpdateComments, sagaNewComment} = createActions({\n\tsagaGetComments: FETCH_COMMENTS,\n\tsagaMoreComments: FETCH_MORE_COMMENTS,\n\tsagaAutoUpdateComments: FETCH_AUTO_UPDATE_COMMENTS,\n\tsagaNewComment: FETCH_NEW_COMMENT,\n});\n","\n\nexport default function ReviewCommentItem(props) {\n\n\treturn (<h2>hello world</h2>);\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal, Form} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {setReviewId} from '../redux/user.comments.js';\nimport {sagaGetComments, sagaMoreComments, sagaAutoUpdateComments, sagaNewComment} from '../redux/saga/user.comments.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport ReviewCommentItem from './ReviewCommentItem';\nimport Filler from './Filler';\n\nconst validationSchemaModal = Yup.object().shape({\n\ttitle: Yup.string().required('Title is required').min(3, 'Title must be maximum 3 characters'),\n\tdescription: Yup.string().max(3000, 'Description must be maximum 3000 characters')\n});\n\nexport default function ReviewComments(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\tconst reviewId = useSelector((state) => state.userComments.reviewId);\n\n\tconst comments = useSelector((state) => state.userComments.comments);\n\tconst commentsLoading = useSelector((state) => state.userComments.commentsLoading);\n\n\tconst handleClose = useCallback(() => {setShow(false);}, []);\n\tconst handleShow = useCallback(() => setShow(true), []);\n\n\tconst {\tregister: registerModal,\n\t\t\thandleSubmit: handleSubmitModal,\n\t\t\tsetValue: setValueModal,\n\t\t\tformState: {errors: errorsModal}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst firstUpdate = useRef(true);\n\tuseEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t\tif(reviewId) dispatch(sagaGetComments({reviewId}));\n\t}, [reviewId]);\n\n\tuseEffect(() => () => {dispatch(setReviewId(null))}, []);\n\n\treturn <>\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t{commentsLoading?<Filler ignorePadding={true} size='4.5rem' />:null}\n\t\t\t<Row><Col><span className=\"h4\">Comments:</span></Col></Row>\n\t\t\t{comments.length<=0?(<Row><Col><span className=\"h4\">Comments Not Found</span></Col></Row>):(<Row><Col>\n\t\t\t\t{comments.map((entry, index) => {\n\t\t\t\t\treturn <ReviewCommentItem key={index} />\n\t\t\t\t})}\n\t\t\t</Col></Row>)}\n\t\t\t<Row className=\"mb-3 justify-content-end\"><Col sm='auto'>\n\t\t\t\t<Button variant=\"outline-primary\" onClick={handleShow}>Create Comment</Button>\n\t\t\t</Col></Row>\n\t\t</Container>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal Create New Comment</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form id=\"hook-modal-form\" onSubmit={handleSubmitModal((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t//dispatch(sagaNewTitle(data));\n\t\t\t\t\t//setShow(false);\n\t\t\t\t})}>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicComment\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">comment</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...registerModal(\"comment\")} rows={5} placeholder=\"Enter comment\" isInvalid={!!errorsModal.comment} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{errorsModal.comment?.message}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"hook-modal-form\">Create Comment</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>;\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewFull from '../components/ReviewFull';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\nimport ReviewComments from '../components/ReviewComments';\n\nexport default function PageReview() {\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent content={<ReviewFull />} addContent={isUser(cookies.Roles)?<ReviewComments />:null} rightbar={<RightBar />} />\n\t\t</Container>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorReviews = createSlice({\n\tname: 'editorReviews',\n\tinitialState: {\n\t\tdata: [],\n\t\tdataLoading: false,\n\t\tdataMoreLoading: false,\n\t\tdataItem: {},\n\t\tdataItemLoading: false,\n\t\tdataItemSetLoading: false,\n\t\tdataItemError: false,\n\t\tdataItemNewLoading: false,\n\t\t\n\t\tdataItemRemoveLoading: false,\n\t\tdataItemRemoveError: false,\n\t\t\n\t\tnewReview: false\n\t},\n\treducers: {\n\t\tmoreReviews(state, action) {\n\t\t\tstate.data = [...state.data, ...action.payload];\n\t\t},\n\t\tstartLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = true;\n\t\t},\n\t\tendLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = false;\n\t\t},\n\t\t\n\t\tgetReviews(state, action) {\n\t\t\tstate.data = [...action.payload];\n\t\t},\n\t\tstartLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = true;\n\t\t},\n\t\tendLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = false;\n\t\t},\n\t\t\n\t\tgetReview(state, action) {\n\t\t\tstate.dataItem = action.payload;\n\t\t},\n\t\tstartLoadGetReview(state, action) {\n\t\t\tstate.dataItemLoading = true;\n\t\t},\n\t\tendLoadGetReview(state, action) {\n\t\t\tstate.dataItemLoading = false;\n\t\t},\n\t\tstartLoadSetReview(state, action) {\n\t\t\tstate.dataItemSetLoading = true;\n\t\t},\n\t\tendLoadSetReview(state, action) {\n\t\t\tstate.dataItemSetLoading = false;\n\t\t},\n\t\terrorSetReview(state, action) {\n\t\t\tstate.dataItemError = action.payload;\n\t\t},\n\t\t\n\t\tstartLoadNewReview(state, action) {\n\t\t\tstate.dataItemNewLoading = true;\n\t\t},\n\t\tendLoadNewReview(state, action) {\n\t\t\tstate.dataItemNewLoading = false;\n\t\t},\n\t\tnewReview(state, action) {\n\t\t\tstate.newReview = action.payload;\n\t\t},\n\t\t\n\t\tstartLoadRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveLoading = true;\n\t\t},\n\t\tendLoadRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveLoading = false;\n\t\t},\n\t\terrorRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveError = action.payload;\n\t\t},\n\t\tremoveReview(state, action) {\n\t\t\tstate.data = state.data.filter((entry) => entry.id !== action.payload.id);\n\t\t}\n\t}\n});\n\nexport const {\tmoreReviews, startLoadMoreReviews, endLoadMoreReviews, getReviews, startLoadGetReviews, endLoadGetReviews,\n\t\t\t\tstartLoadNewReview, endLoadNewReview, errorNewReview, newReview,\n\t\t\t\tremoveReview, startLoadRemoveReview, endLoadRemoveReview, errorRemoveReview,\n\t\t\t\tgetReview, startLoadGetReview, endLoadGetReview, startLoadSetReview, endLoadSetReview, errorSetReview} = storeEditorReviews.actions;\n\nexport default storeEditorReviews.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews, getReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tstartLoadNewReview, endLoadNewReview, errorNewReview, newReview,\n\t\tremoveReview, startLoadRemoveReview, endLoadRemoveReview, errorRemoveReview,\n\t\tgetReview, startLoadGetReview, endLoadGetReview, startLoadSetReview, endLoadSetReview, errorSetReview} from \"../editor.reviews.js\";\n\n\nfunction* getReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/reviews`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/reviews`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nfunction* getReviewSaga({payload = {}}) {\n\tyield put(startLoadGetReview());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/review/`+payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReview(res.data));\n\tyield put(endLoadGetReview());\n}\n\nfunction* editReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadSetReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-edit`,\n\t\t\tdata: {\tid: payload.id, groupId: payload.group, titleId: payload.title, description: payload.description || '', text: payload.text || '',\n\t\t\t\t\ttags: payload.tags || [], authorRating: payload.authorRating || 0, draft: payload.draft},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(getReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorSetReview(e));\n\t} finally {\n\t\tyield put(endLoadSetReview());\n\t}\n}\n\nfunction* newReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-new`,\n\t\t\tdata: {},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewReview(e));\n\t} finally {\n\t\tyield put(endLoadNewReview());\n\t}\n}\n\nfunction* removeReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRemoveReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-remove`,\n\t\t\tdata: {id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(removeReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRemoveReview(e));\n\t} finally {\n\t\tyield put(endLoadRemoveReview());\n\t}\n}\n\nconst FETCH_REVIEWS = 'FETCH_REVIEWS';\nconst FETCH_MORE_REVIEWS = 'FETCH_MORE_REVIEWS';\nconst FETCH_REVIEW = 'FETCH_REVIEW';\nconst FETCH_NEW_REVIEW = 'FETCH_NEW_REVIEW';\nconst FETCH_EDIT_REVIEW = 'FETCH_EDIT_REVIEW';\nconst REMOVE_REVIEW = 'REMOVE_REVIEW';\n\nexport const editorReviewsSagas = createSagas([\n\t[FETCH_REVIEWS, getReviewsSaga],\n\t[FETCH_MORE_REVIEWS, moreReviewsSaga],\n\t[FETCH_REVIEW, getReviewSaga],\n\t[FETCH_NEW_REVIEW, newReviewSaga],\n\t[FETCH_EDIT_REVIEW, editReviewSaga],\n\t[REMOVE_REVIEW, removeReviewSaga]\n]);\n\nexport const {sagaGetReviews, sagaMoreReviews, sagaGetReview, sagaNewReview, sagaEditReview, sagaRemoveReview} = createActions({\n\tsagaGetReviews: FETCH_REVIEWS,\n\tsagaMoreReviews: FETCH_MORE_REVIEWS,\n\tsagaGetReview: FETCH_REVIEW,\n\tsagaNewReview: FETCH_NEW_REVIEW,\n\tsagaEditReview: FETCH_EDIT_REVIEW,\n\tsagaRemoveReview: REMOVE_REVIEW\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaRemoveReview} from '../redux/saga/editor.reviews.js';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst entry = props.entry;\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = useCallback(() => setShow(false), []);\n\tconst handleShow = useCallback(() => setShow(true), []);\n\tconst handleOKClose = useCallback(() => {\n\t\tdispatch(sagaRemoveReview(entry));\n\t\tsetShow(false);\n\t}, [entry]);\n\n\treturn (\n\t\t<>\n\t\t\t<tr>\n\t\t\t\t<td>{entry.id}</td>\n\t\t\t\t<td>{entry.groupTitle?.group?.group}</td>\n\t\t\t\t<td>{entry.groupTitle?.title?.title}</td>\n\t\t\t\t<td>{entry.authorRating}</td>\n\t\t\t\t<td>{entry.averageEditorRating}</td>\n\t\t\t\t<td>{entry.averageUserRating}</td>\n\t\t\t\t<td>{entry.countComments}</td>\n\t\t\t\t<td>{entry.tags.map((entry) => entry.tag).join(', ')}</td>\n\t\t\t\t<td><ReactMarkdown>{entry.description}</ReactMarkdown></td>\n\t\t\t\t<td>{entry.draft+''}</td>\n\t\t\t\t<td><a href={\"/review/\"+entry.id} className=\"btn btn-outline-info btn-sm\" role=\"button\" aria-pressed=\"true\">V</a></td>\n\t\t\t\t<td><a href={\"/my-review-edit/\"+entry.id} className=\"btn btn-outline-primary btn-sm\" role=\"button\" aria-pressed=\"true\">E</a></td>\n\t\t\t\t<td><Button variant=\"outline-danger\" size=\"sm\" onClick={handleShow}>R</Button></td>\n\t\t\t</tr>\n\t\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"md\">\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Modal Confirm Removing Review</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>Are you sure you want to remove review id: {entry.id} {entry.groupTitle?.group?.group}/{entry.groupTitle?.title?.title}?</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleOKClose}>Remove Review</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useNavigate, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Table, Popover, OverlayTrigger} from 'react-bootstrap';\nimport ReactMarkdown from 'react-markdown';\n\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport MyReviewRow from './MyReviewRow';\n\nimport {sagaGetReviews, sagaNewReview} from '../redux/saga/editor.reviews.js';\nimport {newReview as newReviewAC} from '../redux/editor.reviews.js';\n\nconst sortFields = [\n\t'authorRating',\n\t'averageEditorRating',\n\t'averageUserRating',\n\t'countComments',\n\t'createdAt',\n\t'draft',\n\t'updatedAt'\n];\n\nexport default function MyReviewLists() {\n\tconst reviews = useSelector((state) => state.editorReviews.data);\n\tconst newReview = useSelector((state) => state.editorReviews.newReview);\n\tconst loadReviews = useSelector((state) => state.editorReviews.dataLoading);\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\tconst navigate = useNavigate();\n\n\tconst [searchParams] = useSearchParams();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReviews(searchParams));\n\t}, [searchParams]);\n\n\tconst createReview = useCallback(() => {dispatch(sagaNewReview())});\n\n\tuseEffect(() => {\n\t\tif(newReview) {\n\t\t\tnavigate('/my-review-edit/'+newReview.id);\n\t\t\tdispatch(newReviewAC(false));\n\t\t}\n\t}, [newReview]);\n\n\treturn (\n\t\t<div className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Table striped bordered hover className=\"rounded mb-0\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colSpan=\"10\">\n\t\t\t\t\t\t\t<PopoverFilterReviews withAuthors={false} sortFields={sortFields} typeFilter=\"editor\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"text-center\" colSpan=\"3\">\n\t\t\t\t\t\t\t<Button variant=\"outline-success\" onClick={createReview}>Create</Button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"text-center\">#</th>\n\t\t\t\t\t\t<th className=\"text-center\">Group</th>\n\t\t\t\t\t\t<th className=\"text-center\">Title</th>\n\t\t\t\t\t\t<th className=\"text-center\">AR</th>\n\t\t\t\t\t\t<th className=\"text-center\">AAR</th>\n\t\t\t\t\t\t<th className=\"text-center\">AUR</th>\n\t\t\t\t\t\t<th className=\"text-center\">comms</th>\n\t\t\t\t\t\t<th className=\"text-center\">tags</th>\n\t\t\t\t\t\t<th className=\"text-center\">description</th>\n\t\t\t\t\t\t<th className=\"text-center\">draft</th>\n\t\t\t\t\t\t<th className=\"text-center\" colSpan=\"3\">actions</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{reviews.map((entry, index) => {\n\t\t\t\t\t\treturn <MyReviewRow entry={entry} imdex={index} key={index} />\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</div>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewLists from '../components/MyReviewLists';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewLists />\n\t\t</Container>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorImages = createSlice({\n\tname: 'editorImages',\n\tinitialState: {\n\t\tmodalImages: false,\n\t\turlImageToInsert: false,\n\t\timages: [],\n\t\tloadImages: false,\n\t\tloadMoreImages: false,\n\t\tloadNewImage: false,\n\t\terrorNewImage: false,\n\t\tnewImage: false,\n\t\tprogressLoadNewImage: 0,\n\t\tselectedImageInsert: null,\n\t\tselectedImageUpload: null\n\t},\n\treducers: {\n\t\tshowModalImage(state, action) {\n\t\t\tstate.modalImages = true;\n\t\t},\n\t\thideModalImage(state, action) {\n\t\t\tstate.modalImages = false;\n\t\t},\n\t\tsetURLImageToInsert(state, action) {\n\t\t\tstate.urlImageToInsert = action.payload;\n\t\t},\n\t\tgetImages(state, action) {\n\t\t\tstate.images = [...action.payload];\n\t\t},\n\t\tstartLoadImages(state, action) {\n\t\t\tstate.loadImages = true;\n\t\t},\n\t\tendLoadImages(state, action) {\n\t\t\tstate.loadImages = false;\n\t\t},\n\t\tmoreImages(state, action) {\n\t\t\tstate.images = [...state.images, ...action.payload];\n\t\t},\n\t\tstartLoadMoreImages(state, action) {\n\t\t\tstate.loadMoreImages = true;\n\t\t},\n\t\tendLoadMoreImages(state, action) {\n\t\t\tstate.loadMoreImages = false;\n\t\t},\n\t\tstartLoadNewImage(state, action) {\n\t\t\tstate.loadNewImage = true;\n\t\t},\n\t\tendLoadNewImage(state, action) {\n\t\t\tstate.loadNewImage = false;\n\t\t},\n\t\tprogressLoadNewImageAC(state, action) {\n\t\t\tstate.progressLoadNewImage = action.payload;\n\t\t},\n\t\terrorNewImageAC(state, action) {\n\t\t\tstate.errorNewImage = action.payload;\n\t\t},\n\t\tnewImageAC(state, action) {\n\t\t\tstate.images = [...action.payload, ...state.images];\n\t\t\tstate.newImage = action.payload;\n\t\t},\n\t\tselectedImageInsertAC(state, action) {\n\t\t\tstate.selectedImageInsert = action.payload;\n\t\t},\n\t\tselectedImageUploadAC(state, action) {\n\t\t\tstate.selectedImageUpload = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tshowModalImage, hideModalImage, setURLImageToInsert,\n\t\t\t\tgetImages, startLoadImages, endLoadImages,\n\t\t\t\tmoreImages, startLoadMoreImages, endLoadMoreImages,\n\t\t\t\tselectedImageInsertAC, selectedImageUploadAC,\n\t\t\t\tstartLoadNewImage, endLoadNewImage, errorNewImageAC, newImageAC, progressLoadNewImageAC} = storeEditorImages.actions;\n\nexport default storeEditorImages.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getImages, startLoadImages, endLoadImages, moreImages, startLoadMoreImages, endLoadMoreImages,\n\t\tstartLoadNewImage, endLoadNewImage, errorNewImageAC, newImageAC} from \"../editor.images.js\";\n\nfunction* getPartImagesSaga({payload = {}}) {\n\tyield put(startLoadImages());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/images`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getImages(res.data));\n\tyield put(endLoadImages());\n}\n\nfunction* morePartImagesSaga({payload = {}}) {\n\tyield put(startLoadMoreImages());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\tparams: {page: payload.page},\n\t\turl: `/editor/images`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreImages(res.data));\n\tyield put(endLoadMoreImages());\n}\n\nfunction* newImageSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewImage());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/image-new`,\n\t\t\tdata: payload.data,\n\t\t\tonUploadProgress: payload.progress,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newImageAC(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewImageAC(e));\n\t} finally {\n\t\tyield put(endLoadNewImage());\n\t}\n}\n\nconst FETCH_GET_PART_IMAGES = 'FETCH_GET_PART_IMAGES';\nconst FETCH_NEW_IMAGE = 'FETCH_NEW_IMAGE';\nconst FETCH_MORE_PART_IMAGES = 'FETCH_MORE_PART_IMAGES';\n\nexport const editorImagesSagas = createSagas([\n\t[FETCH_GET_PART_IMAGES, getPartImagesSaga],\n\t[FETCH_MORE_PART_IMAGES, morePartImagesSaga],\n\t[FETCH_NEW_IMAGE, newImageSaga]\n]);\n\nexport const {sagaGetPartImages, sagaMorePartImages, sagaNewImage} = createActions({\n\tsagaGetPartImages: FETCH_GET_PART_IMAGES,\n\tsagaMorePartImages: FETCH_MORE_PART_IMAGES,\n\tsagaNewImage: FETCH_NEW_IMAGE\n});\n","import React, {Component, useRef, useLayoutEffect, useEffect, useState, useCallback} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Dropzone from 'react-dropzone'\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar} from 'react-bootstrap';\n\nimport {sagaNewImage} from '../redux/saga/editor.images.js';\nimport {selectedImageUploadAC, selectedImageInsertAC, errorNewImageAC, progressLoadNewImageAC} from '../redux/editor.images.js';\n\nexport default function ImageUpload() {\n\tconst selectedImageUpload = useSelector(state => state.editorImages.selectedImageUpload);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst errorNewImage = useSelector(state => state.editorImages.errorNewImage);\n\tconst progressLoadNewImage = useSelector(state => state.editorImages.progressLoadNewImage);\n\tconst loadNewImage = useSelector(state => state.editorImages.loadNewImage);\n\tconst newImage = useSelector(state => state.editorImages.newImage);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif(newImage.length > 0 && selectedImageUpload) {\n\t\t\tdispatch(selectedImageInsertAC(newImage[0]));\n\t\t}\n\t}, [newImage]);\n\n\t//useEffect(() => {\n\t//\tdispatch(progressLoadNewImageAC(0));\n\t//}, [errorNewImage]);\n\n\tconst uploadFn = useCallback(() => {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"images[]\", selectedImageUpload);\n\t\tdispatch(sagaNewImage({data: formData, progress: (e) => {\n\t\t\tdispatch(progressLoadNewImageAC(Math.round((100 * e.loaded) / e.total)));\n\t\t}}));\n\t\tdispatch(progressLoadNewImageAC(0));\n\t})\n\n\treturn selectedImageUpload?(<div>\n\t\t\t<Row>\n\t\t\t\t<Col>{errorNewImage?<Alert variant=\"danger\" onClose={() => dispatch(errorNewImageAC(false))} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{errorNewImage.data.message || errorNewImage.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\"><Image src={URL.createObjectURL(selectedImageUpload)} style={{height: '250px'}} fluid /></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center justify-content-center\" style={{height: '50px'}}>\n\t\t\t\t{loadNewImage?<Col>\n\t\t\t\t\t<ProgressBar animated variant=\"info\" now={progressLoadNewImage} />\n\t\t\t\t</Col>:(!selectedImageInsert?<Col sm=\"auto\">\n\t\t\t\t\t<Button variant=\"outline-info\" onClick={uploadFn}>Upload</Button>\n\t\t\t\t</Col>:<Col sm=\"auto\">\n\t\t\t\t\t<h2>Upload complete</h2>\n\t\t\t\t</Col>)}\n\t\t\t</Row>\n\t\t</div>):(<Dropzone onDrop={acceptedFiles => {\n\t\t\tdispatch(selectedImageUploadAC(acceptedFiles[0]));\n\t\t}}>\n\t\t\t{({getRootProps, getInputProps}) => (\n\t\t\t\t<section>\n\t\t\t\t\t<div {...getRootProps({})}>\n\t\t\t\t\t\t<input {...getInputProps({multiple: false, accept: 'image/*'})} />\n\t\t\t\t\t\t<Row className=\"justify-content-center align-items-center border border-secondary border-1 bg-info rounded\" style={{cursor: 'pointer', height: '300px'}}>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<span className=\"h3 text-light\">Drag 'n' drop some files here, or click to select files</span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t</Dropzone>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar} from 'react-bootstrap';\n\nimport Filler from '../components/Filler';\n\nimport {sagaGetPartImages, sagaMorePartImages} from '../redux/saga/editor.images.js';\nimport {selectedImageUploadAC, selectedImageInsertAC, errorNewImageAC, progressLoadNewImageAC} from '../redux/editor.images.js';\n\nconst PAGE_IMAGES = 20;\n\nexport default function ImageLists() {\n\tconst [page, setPage] = useState(1);\n\tconst images = useSelector(state => state.editorImages.images);\n\tconst loadImages = useSelector(state => state.editorImages.loadImages);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst loadMoreImages = useSelector(state => state.editorImages.loadMoreImages);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetPartImages());\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif(page * PAGE_IMAGES - PAGE_IMAGES > images.length) setPage(page - 1);\n\t}, [images]);\n\n\treturn (\n\t\t<Container>\n\t\t\t{loadImages?<Filler size=\"3.25rem\" />:null}\n\t\t\t<Row className=\"align-items-center\">\n\t\t\t\t{images.map((image, index) => {\n\t\t\t\t\tlet selClasses = '';\n\t\t\t\t\tlet selStyles = {}\n\n\t\t\t\t\tif(selectedImageInsert && image.url === selectedImageInsert.url) {\n\t\t\t\t\t\tselClasses = 'border border-warning border-5 bg-warning bg-gradient';\n\t\t\t\t\t\tselStyles = {maxWidth: '181px', maxHeight: '181px'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn <Col key={index} sm=\"auto\" className={\"text-center\"+\" \"+selClasses} style={{width: '191px', height: '191px', padding: '0px'}}>\n\t\t\t\t\t\t<span><Image src={image.url} style={{...{maxWidth: '191px', maxHeight: '191px'}, ...selStyles}} onClick={() => {\n\t\t\t\t\t\t\tif(selectedImageInsert && selectedImageInsert.url !== image.url) dispatch(selectedImageUploadAC(null));\n\t\t\t\t\t\t\tdispatch(selectedImageInsertAC(image));\n\t\t\t\t\t\t}} thumbnail /></span>\n\t\t\t\t\t</Col>\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t\t<Row className=\"mt-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t{loadMoreImages?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t<Button variant=\"outline-primary\" style={{width: '100%'}} onClick={() => {\n\t\t\t\t\t\tdispatch(sagaMorePartImages({page: page + 1}));\n\t\t\t\t\t\tsetPage(page + 1);\n\t\t\t\t\t}} >more images</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {showModalImage, hideModalImage, setURLImageToInsert, selectedImageUploadAC, selectedImageInsertAC} from '../redux/editor.images.js';\n\nimport ImageUpload from './ImageUpload';\nimport ImageLists from './ImageLists';\n\nexport default function ModalImages() {\n\tconst [key, setKey] = useState('UploadImage');\n\n\tconst modalImages = useSelector(state => state.editorImages.modalImages);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst selectedImageUpload = useSelector(state => state.editorImages.selectedImageUpload);\n\tconst urlImageToInsert = useSelector(state => state.editorImages.urlImageToInsert);\n\tconst dispatch = useDispatch();\n\n\treturn (<>\n\t\t<Modal show={modalImages} onHide={() => {dispatch(hideModalImage())}} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal heading</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Tabs activeKey={key} onSelect={(k) => setKey(k)} id=\"uncontrolled-tab\" className=\"mb-3\">\n\t\t\t\t\t<Tab eventKey=\"ImageLists\" title=\"ImageLists\">\n\t\t\t\t\t\t<ImageLists />\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"UploadImage\" title=\"UploadImage\">\n\t\t\t\t\t\t<ImageUpload />\n\t\t\t\t\t</Tab>\n\t\t\t\t</Tabs>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={() => {dispatch(hideModalImage())}}>Close</Button>\n\t\t\t\t<Button variant=\"outline-secondary\" disabled={!selectedImageInsert && !selectedImageUpload} onClick={() => {\n\t\t\t\t\tdispatch(selectedImageUploadAC(null));\n\t\t\t\t\tdispatch(selectedImageInsertAC(null));\n\t\t\t\t}}>Reset</Button>\n\t\t\t\t<Button variant=\"outline-primary\" disabled={!selectedImageInsert} onClick={() => {\n\t\t\t\t\tdispatch(selectedImageUploadAC(null));\n\t\t\t\t\tdispatch(selectedImageInsertAC(null));\n\t\t\t\t\tdispatch(setURLImageToInsert({key: urlImageToInsert.key, url: selectedImageInsert.url}));\n\t\t\t\t}}>Insert Image</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {PluginProps} from 'react-markdown-editor-lite';\n\nimport {showModalImage, hideModalImage, setURLImageToInsert} from '../redux/editor.images.js';\n\nexport default function MarkdownImages(props) {\n\t//const [num, setNum] = React.useState(props.config.start);\n\tconst modalImages = useSelector(state => state.editorImages.modalImages);\n\tconst urlImageToInsert = useSelector(state => state.editorImages.urlImageToInsert);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif(urlImageToInsert && urlImageToInsert.url && urlImageToInsert.key === props.editor) {\n\t\t\tprops.editor.insertText(`![This is an image](${urlImageToInsert.url})`);\n\t\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t\t\tdispatch(hideModalImage())\n\t\t}\n\t}, [urlImageToInsert]);\n\n\tuseEffect(() => {\n\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t}, []);\n\n\treturn (<span className=\"button\" title=\"Custom Images\" onClick={() => {\n\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t\tdispatch(showModalImage());\n\t}}>images</span>);\n}\n// Define default config if required\nMarkdownImages.defaultConfig = {}\nMarkdownImages.align = 'left';\nMarkdownImages.pluginName = 'custom extends images';\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\n//import ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\n\nimport ModalImage from '../image/ModalImages';\n\nimport {sagaGetReview, sagaEditReview} from '../redux/saga/editor.reviews.js';\nimport {sagaGetAllGroups} from '../redux/saga/editor.groups.js';\nimport {sagaGetPartTitles, sagaNewTitle} from '../redux/saga/editor.titles.js';\nimport {sagaGetPartTags, sagaNewTag} from '../redux/saga/editor.tags.js';\n\nimport {errorSetReview} from '../redux/editor.reviews.js';\n\nimport Filler from './Filler';\n\n// markdown\nimport ReactMarkdown from 'react-markdown'\n//import MarkdownIt from 'markdown-it';\nimport MdEditor, { Plugins } from 'react-markdown-editor-lite';\nimport MarkdownImages from '../helpers/markdown.image.jsx';\n// import style manually\nimport 'react-markdown-editor-lite/lib/index.css';\n\n//const mdParser = new MarkdownIt(/* Markdown-it options */);\n\nMdEditor.unuse(Plugins.Image);\nMdEditor.use(MarkdownImages);\n\n\nconst validationSchema = Yup.object().shape({\n\tgroup: Yup.number().required('Group is required'),\n\ttitle: Yup.number().required('Title is required'),\n\tdescription: Yup.string().max(3000, 'Description must be maximum 3000 characters'),\n\ttext: Yup.string().max(65000, 'Description must be maximum 65000 characters'),\n\ttags: Yup.array().of(Yup.number()),\n\tauthorRating: Yup.number(),\n\tdraft: Yup.boolean()\n});\n\nconst validationSchemaModal = Yup.object().shape({\n\ttitle: Yup.string().required('Title is required').min(3, 'Title must be maximum 3 characters'),\n\tdescription: Yup.string().max(3000, 'Description must be maximum 3000 characters')\n});\n\nexport default function MyReviewFullEdit(props) {\n\tconst {t} = useTranslation();\n\n\tconst ref = useRef();\n\tconst aref = useRef();\n\n\tconst [selectedTags, setSelectedTags] = useState([]);\n\n\tconst review = useSelector((state) => state.editorReviews.dataItem);\n\tconst reviewLoading = useSelector((state) => state.editorReviews.dataItemLoading);\n\tconst error = useSelector((state) => state.editorReviews.dataItemError);\n\tconst setReviewLoading = useSelector((state) => state.editorReviews.dataItemSetLoading);\n\n\tconst dispatch = useDispatch();\n\tlet params = useParams();\n\tlet [firstRender, setFirstRender] = useState(true);\n\tconst [show, setShow] = useState(false);\n\n\tconst groups = useSelector((state) => state.editorGroups.groups);\n\tconst loadGroups = useSelector((state) => state.editorGroups.loadGroups);\n\n\tconst titles = useSelector((state) => state.editorTitles.titles);\n\tconst loadTitles = useSelector((state) => state.editorTitles.loadTitles);\n\tconst newTitle = useSelector((state) => state.editorTitles.newTitle);\n\tconst loadNewTitle = useSelector((state) => state.editorTitles.loadNewTitle);\n\n\tconst tags = useSelector((state) => state.editorTags.tags);\n\tconst loadTags = useSelector((state) => state.editorTags.loadTags);\n\tconst newTag = useSelector((state) => state.editorTags.newTag);\n\tconst loadNewTag = useSelector((state) => state.editorTags.loadNewTag);\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReview(params.id));\n\t\tdispatch(sagaGetAllGroups());\n\t\t//dispatch(sagaGetAllTitles());\n\t\tsetFirstRender(false);\n\t}, []);\n\n\tconst {register, handleSubmit, setValue, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\tconst {\tregister: registerModal,\n\t\t\thandleSubmit: handleSubmitModal,\n\t\t\tsetValue: setValueModal,\n\t\t\tformState: {errors: errorsModal}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconsole.log(review, errors);\n\n\tconst handleClose = useCallback(() => {setShow(false);}, []);\n\tconst handleShow = useCallback(() => setShow(true), []);\n\n\tuseEffect(() => {\n\t\tif(newTitle) {\n\t\t\tsetValue('title', newTitle.id);\n\t\t\tref.current.hideMenu();\n\t\t}\n\t}, [newTitle]);\n\n\tuseEffect(() => {\n\t\tif(newTag) {\n\t\t\tsetSelectedTags([...selectedTags, newTag]);\n\t\t}\n\t}, [newTag]);\n\n\tuseEffect(() => {\n\t\tif(review.tags) setSelectedTags([...review.tags]);\n\t}, [review]);\n\n\treturn(\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<ModalImage />\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorSetReview(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason || error.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>Create New Review</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {console.log(data);dispatch(sagaEditReview({id: review.id, ...data}))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicGroup\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Group</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{loadGroups?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGroups && !reviewLoading)?<Form.Select {...register(\"group\")} defaultValue={review.groupTitle.group.id} isInvalid={!!errors.group}>\n\t\t\t\t\t\t\t\t\t{groups.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{entry.group}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.group?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitle\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Title</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{loadNewTitle?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<AsyncTypeahead ref={ref} id=\"async-title\"\n\t\t\t\t\t\t\t\t\t\t\t\tminLength={3}\n\t\t\t\t\t\t\t\t\t\t\t\tallowNew={true}\n\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTitles}\n\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(selected) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected[0].customOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShow(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValueModal('title', selected[0].title);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValueModal('description', '');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('title', selected[0].id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('title', undefined);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTitles(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={titles.length>0?titles:[review.groupTitle.title]} />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<Form.Control {...register(\"title\")} defaultValue={review.groupTitle.title.id} type=\"hidden\" isInvalid={!!errors.title} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.title?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicDescription\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">description</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<MdEditor style={{ height: '500px' }} renderHTML={text => {\n\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t}} onChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t//console.log(html)\n\t\t\t\t\t\t\t\t}} />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<Form.Control as=\"textarea\" {...register(\"description\")} rows={5} defaultValue={review.description} placeholder=\"Enter description\" isInvalid={!!errors.description} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.description?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicText\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">review</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<MdEditor style={{ height: '500px' }} renderHTML={text => {\n\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t}} onChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t//console.log(html)\n\t\t\t\t\t\t\t\t}} />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<Form.Control as=\"textarea\" {...register(\"text\")} rows={10} defaultValue={review.text} placeholder=\"Enter text review\" isInvalid={!!errors.text} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.text?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTags\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Tags</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<AsyncTypeahead ref={aref} id=\"async-tags\"\n\t\t\t\t\t\t\t\t\t\t\t\tminLength={2}\n\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\tallowNew={true}\n\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"tag\"\n\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTags}\n\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelected={review.tags}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(selected) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.at(-1).customOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaNewTag(selected.at(-1).tag))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedTags([...selected]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedTags([]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTags(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={tags.length>0?tags.filter((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn !~aref.current.state.selected.findIndex((item) => item.id == entry.id)\n\t\t\t\t\t\t\t\t\t\t\t\t}):review.tags} />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<Form.Control {...register(\"tags\")} value={selectedTags.map((entry) => entry.id).join(' ')} type=\"text\" isInvalid={!!errors.title} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.tags?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formAuthorRating\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Author rating</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<Form.Select {...register(\"authorRating\")}\n\t\t\t\t\t\t\t\t\t\t{...(review.authorRating?{defaultValue: review.authorRating}:{})} isInvalid={!!errors.authorRating} >\n\t\t\t\t\t\t\t\t\t<option disabled selected>Chose ratings</option>\n\t\t\t\t\t\t\t\t\t<option value=\"1\">1</option>\n\t\t\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.authorRating?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formIsDraft\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Is Draft</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{(!firstRender && !reviewLoading)?<Form.Check type=\"checkbox\" defaultChecked={!!review.draft} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.draft?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Save</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Modal Create New Title</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form id=\"hook-modal-form\" onSubmit={handleSubmitModal((data) => {\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tdispatch(sagaNewTitle(data));\n\t\t\t\t\t\tsetShow(false);\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitleTitle\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Title</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...registerModal(\"title\")} type=\"text\" placeholder=\"Enter title\" isInvalid={!!errorsModal.title} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errorsModal.title?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitleDescription\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">description</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...registerModal(\"description\")} rows={3} placeholder=\"Enter description\" isInvalid={!!errorsModal.description} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errorsModal.description?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"hook-modal-form\">Create Title</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewFullEdit from '../components/MyReviewFullEdit';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageMyReviewEdit() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewFullEdit />\n\t\t</Container>\n\t)\n}\n","import React from \"react\";\nimport {Routes, Route, Link} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\n\nimport PageLogin from './pages/PageLogin';\nimport PageRegistration from './pages/PageRegistration';\nimport PageUser from './pages/PageUser';\nimport PageReviews from './pages/PageReviews';\nimport PageReview from './pages/PageReview';\nimport PageMyReviews from './pages/PageMyReviews';\nimport PageMyReviewEdit from './pages/PageMyReviewEdit';\n\nexport default function App() {\n\treturn (\n\t\t<div>\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"user\" element={<PageUser />} />\n\t\t\t\t<Route path=\"registration\" element={<PageRegistration />} />\n\t\t\t\t<Route path=\"login\" element={<PageLogin />} />\n\t\t\t\t\n\t\t\t\t<Route path=\"reviews/order-:order/tag-:tag\" element={<PageReviews />} />\n\t\t\t\t<Route path=\"reviews/order-:order\" element={<PageReviews />} />\n\t\t\t\t<Route path=\"reviews/tag-:tag\" element={<PageReviews />} />\n\t\t\t\t<Route path=\"reviews\" element={<PageReviews />} />\n\t\t\t\t\n\t\t\t\t<Route path=\"review/:id\" element={<PageReview />} />\n\t\t\t\t\n\t\t\t\t<Route path=\"my-reviews\" element={<PageMyReviews />} />\n\t\t\t\t<Route path=\"my-review-edit/:id\" element={<PageMyReviewEdit />} />\n\t\t\t\t<Route path=\"/\" element={<PageReviews />} />\n\t\t\t</Routes>\n\t\t</div>\n\t);\n}\n","import { call, takeEvery, put, all, spawn, take, cancel } from 'redux-saga/effects';\n\nimport {userReviewsSagas} from './user.reviews.js';\nimport {userTagsSagas} from './user.tags.js';\nimport {userUserSagas} from './user.user.js';\nimport {userLangsSagas} from './user.langs.js';\nimport {userThemesSagas} from './user.themes.js';\nimport {editorReviewsSagas} from './editor.reviews.js';\nimport {editorGroupsSagas} from './editor.groups.js';\nimport {editorTitlesSagas} from './editor.titles.js';\nimport {editorTagsSagas} from './editor.tags.js';\nimport {editorImagesSagas} from './editor.images.js';\nimport {guestEditorsSagas} from './guest.editors.js';\nimport {userRatingsSagas} from './user.ratings.js';\nimport {userLikesSagas} from './user.likes.js';\nimport {userCommentsSagas} from './user.comments.js';\n\n// takeLatest\n// takeLatest\nexport default function* rootSaga() {\n\t//yield fork(socketFetchSaga);\n\tconst sagas = [\n\t\t...userReviewsSagas,\n\t\t...userTagsSagas,\n\t\t...userUserSagas,\n\t\t...userLangsSagas,\n\t\t...userThemesSagas,\n\t\t...editorReviewsSagas,\n\t\t...editorGroupsSagas,\n\t\t...editorTitlesSagas,\n\t\t...editorTagsSagas,\n\t\t...editorImagesSagas,\n\t\t...guestEditorsSagas,\n\t\t...userRatingsSagas,\n\t\t...userLikesSagas,\n\t\t...userCommentsSagas\n\t];\n\n\tyield all(sagas.map((o) => {\n\t\treturn spawn(function *() {\n\t\t\twhile(true) {\n\t\t\t\ttry {\n\t\t\t\t\tif(o.pattern) {\n\t\t\t\t\t\tlet lastTask\n\t\t\t\t\t\twhile(true) {\n\t\t\t\t\t\t\tconst action = yield take(o.pattern);\n\t\t\t\t\t\t\t// cancel is no-op if the task has already terminated\n\t\t\t\t\t\t\tif(lastTask) yield cancel(lastTask);\n\t\t\t\t\t\t\t//lastTask = yield fork(saga, ...args.concat(action));\n\t\t\t\t\t\t\tlastTask = yield call(o.saga, action);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tyield call(o);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t} catch(e) {\n\t\t\t\t\t// error\n\t\t\t\t\t//console.error(e);\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}));\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport createSagaMiddleware from \"redux-saga\";\n\nimport userReviewsReduser from './user.reviews.js';\nimport userTagsReduser from './user.tags.js';\nimport userUserReduser from './user.user.js';\nimport userLikesReduser from './user.likes.js';\nimport userLangsReduser from './user.langs.js';\nimport userThemesReduser from './user.themes.js';\nimport editorReviewsReduser from './editor.reviews.js';\nimport editorGroupsReduser from './editor.groups.js';\nimport editorTitlesReduser from './editor.titles.js';\nimport editorTagsReduser from './editor.tags.js';\nimport editorImagesReduser from './editor.images.js';\nimport guestEditorsReduser from './guest.editors.js';\nimport customFilterReduser from './custom.filter.js';\nimport userRatingsReduser from './user.ratings.js';\nimport userCommentsReduser from './user.comments.js';\n\nimport saga from \"./saga/saga.js\";\n\nlet sagaMiddleware = createSagaMiddleware();\n\nconst store = configureStore({\n\treducer: {\n\t\tuserReviews: userReviewsReduser,\n\t\tuserTags: userTagsReduser,\n\t\tuserUser: userUserReduser,\n\t\tuserLikes: userLikesReduser,\n\t\tuserLangs: userLangsReduser,\n\t\tuserThemes: userThemesReduser,\n\t\teditorReviews: editorReviewsReduser,\n\t\teditorGroups: editorGroupsReduser,\n\t\teditorTitles: editorTitlesReduser,\n\t\teditorTags: editorTagsReduser,\n\t\teditorImages: editorImagesReduser,\n\t\tguestEditors: guestEditorsReduser,\n\t\tcustomFilter: customFilterReduser,\n\t\tuserRatings: userRatingsReduser,\n\t\tuserComments: userCommentsReduser\n\t},\n\tmiddleware: [...getDefaultMiddleware({ thunk: false, serializableCheck: false }), sagaMiddleware]\n});\n\nsagaMiddleware.run(saga);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './redux/store.js'\nimport {BrowserRouter} from \"react-router-dom\";\nimport {CookiesProvider} from 'react-cookie';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<CookiesProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<App />\n\t\t\t\t</Provider>\n\t\t\t</BrowserRouter>\n\t\t</CookiesProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}