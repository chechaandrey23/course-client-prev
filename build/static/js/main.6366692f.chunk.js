(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{461:function(e,t){},463:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(43),s=a.n(c),i=a(25),o=(a(304),a(305),a(6)),d=a(478),l=a(11),u=a(29),j=a(491),b=a(287),m=a(479),O=a(480),h=a(495);function g(e){return(e=Array.isArray(e)?e:[e]).includes(1)}function x(e){return(e=Array.isArray(e)?e:[e]).includes(2)}function p(e){return(e=Array.isArray(e)?e:[e]).includes(3)}var f=a(8),v=a.n(f),w=a(2),y=a(4),L=a(207),I=a.n(L);function N(e){return e=e||{},new Promise((function(t,a){I()(e).then((function(e){t(e)})).catch((function(r){r.response&&401===r.response.status&&e.JWTRefreshUpdate?I()({method:e.JWTRefreshUpdateMethod||"GET",url:e.JWTRefreshUpdateURL}).then((function(r){I()(e).then((function(e){t(e)})).catch((function(e){a(R(e))}))})).catch((function(e){a(R(e))})):a(R(r))}))}))}function R(e){return e.response?(e.response.data||(e.response.data=e),e.response):e.request?(e.request.data||(e.request.data=e),e.request):(e.data||(e.data=e),e)}var T={responseType:"json",JWTRefreshUpdate:!0,JWTRefreshUpdateMethod:"POST",JWTRefreshUpdateURL:"/auth/api/refresh"};function C(e){return Object.keys(e||{}).reduce((function(t,a){var r;return t[a]=(r=e[a],function(e){return{type:r,payload:e}}),t}),{})}function k(e){return(Array.isArray(e)?e:[]).reduce((function(e,t){return"function"===typeof t?e.push(t):Array.isArray(t)&&"function"===typeof t[1]&&e.push({pattern:t[0]+"",saga:t[1]}),e}),[])}var E=a(30),S=Object(E.b)({name:"userUser",initialState:{login:!1,loadLogin:!1,errorLogin:!1,logout:!1,loadLogout:!1,errorLogout:!1,registration:!1,loadRegistration:!1,errorRegistration:!1,user:{},loadGetUser:!1,loadSetUser:!1,errorSetUser:!1},reducers:{login:function(e,t){e.login=t.payload},startLoadLogin:function(e,t){e.loadLogin=!0},endLoadLogin:function(e,t){e.loadLogin=!1},errorLogin:function(e,t){e.errorLogin=t.payload},logout:function(e,t){e.logout=t.payload},startLoadLogout:function(e,t){e.loadLogout=!0},endLoadLogout:function(e,t){e.loadLogout=!1},errorLogout:function(e,t){e.errorLogout=t.payload},registration:function(e,t){e.registration=t.payload},startLoadRegistration:function(e,t){e.loadRegistration=!0},endLoadRegistration:function(e,t){e.loadRegistration=!1},errorRegistration:function(e,t){e.errorRegistration=t.payload},user:function(e,t){e.user=Object(w.a)({},t.payload)},userInfo:function(e,t){var a=Object(w.a)({},e.user);a.userInfo=t.payload,e.user=a},startLoadGetUser:function(e,t){e.loadGetUser=!0},endLoadGetUser:function(e,t){e.loadGetUser=!1},startLoadSetUser:function(e,t){e.loadSetUser=!0},endLoadSetUser:function(e,t){e.loadSetUser=!1},errorSetUser:function(e,t){e.errorSetUser=t.payload}}}),G=S.actions,_=G.login,U=G.startLoadLogin,F=G.endLoadLogin,A=G.errorLogin,M=G.logout,P=G.startLoadLogout,H=G.endLoadLogout,B=(G.errorLogout,G.registration),W=G.startLoadRegistration,V=G.endLoadRegistration,q=G.errorRegistration,z=G.userInfo,D=G.user,K=G.startLoadGetUser,J=G.endLoadGetUser,Q=G.startLoadSetUser,X=G.endLoadSetUser,Y=G.errorSetUser,Z=S.reducer,$=Object(E.b)({name:"userLikes",initialState:{likes:0,like:null,loadNewLike:!1},reducers:{setCountLikes:function(e,t){e.likes=1*t.payload},newLike:function(e,t){e.like=t.payload,e.likes=e.likes+1},startLoadNewLike:function(e,t){e.loadNewLike=!0},endLoadNewLike:function(e,t){e.loadNewLike=!1},errorNewLike:function(e,t){e.errorNewLike=t.payload}}}),ee=$.actions,te=ee.setCountLikes,ae=ee.newLike,re=ee.startLoadNewLike,ne=ee.endLoadNewLike,ce=ee.errorNewLike,se=$.reducer,ie=v.a.mark(je),oe=v.a.mark(be),de=v.a.mark(me),le=v.a.mark(Oe),ue=v.a.mark(he);function je(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=void 0===t?{}:t,r.prev=1,r.next=4,Object(y.d)(U());case 4:return r.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/auth/api/login",data:{username:a.user,password:a.password}},T));case 6:return r.sent,r.next=9,Object(y.d)(_(!0));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(y.d)(A(r.t0));case 15:return r.prev=15,r.next=18,Object(y.d)(F());case 18:return r.finish(15);case 19:case"end":return r.stop()}}),ie,null,[[1,11,15,19]])}function be(e){var t;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,void 0===t?{}:t,a.next=3,Object(y.d)(P());case 3:return a.next=5,Object(y.b)(N,Object(w.a)({method:"post",url:"/auth/api/logout"},T));case 5:return a.sent,a.next=8,Object(y.d)(M(!0));case 8:return a.next=10,Object(y.d)(H());case 10:case"end":return a.stop()}}),oe)}function me(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=void 0===t?{}:t,r.prev=1,r.next=4,Object(y.d)(W());case 4:return r.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/auth/api/registration",data:{username:a.user,password:a.password,password2:a.password2,email:a.email,first_name:a.first_name,last_name:a.last_name}},T));case 6:return r.sent,r.next=9,Object(y.d)(B(!0));case 9:r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(1),delete r.t0.config,r.next=16,Object(y.d)(q(r.t0));case 16:return r.prev=16,r.next=19,Object(y.d)(V());case 19:return r.finish(16);case 20:case"end":return r.stop()}}),de,null,[[1,11,16,20]])}function Oe(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.d)(K());case 2:return t.next=4,Object(y.b)(N,Object(w.a)({method:"get",url:"/user/user"},T));case 4:return e=t.sent,t.next=7,Object(y.d)(te(e.data.countUserLike));case 7:return t.next=9,Object(y.d)(D(e.data));case 9:return t.next=11,Object(y.d)(J());case 11:case"end":return t.stop()}}),le)}function he(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(Q());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/user/user-settings",data:{id:a.id,first_name:a.first_name,last_name:a.last_name,langId:a.langId,themeId:a.themeId}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(z(r.data));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(y.d)(Y(n.t0));case 15:return n.prev=15,n.next=18,Object(y.d)(X());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),ue,null,[[1,11,15,19]])}var ge="FETCH_LOGIN",xe="FETCH_LOGOUT",pe="FETCH_REGISTRATION",fe="FETCH_GET_USER",ve="FETCH_SET_USER",we=k([[ge,je],[xe,be],[pe,me],[fe,Oe],[ve,he]]),ye=C({sagaLogin:ge,sagaLogout:xe,sagaRegistration:pe,sagaGetUser:fe,sagaSetUser:ve}),Le=ye.sagaLogin,Ie=ye.sagaLogout,Ne=ye.sagaRegistration,Re=ye.sagaSetUser,Te=ye.sagaGetUser,Ce=a(1);function ke(){var e,t,a=Object(h.a)(),n=Object(l.a)(a,3),c=n[0],s=n[2],f=Object(i.f)(),v=(Object(i.e)(),Object(o.b)()),w=Object(o.c)((function(e){return e.userUser.logout})),y=Object(o.c)((function(e){return e.userUser.user})),L=Object(o.c)((function(e){return e.userLikes.likes})),I=Object(r.useCallback)((function(){v(Ie())}),[]);Object(r.useEffect)((function(){w&&(f("/"),v(M()),s("Roles"))}),[w]),Object(r.useEffect)((function(){(p(c.Roles)||x(c.Roles)||g(c.Roles))&&v(Te())}),[]);var N="".concat((null===(e=y.userInfo)||void 0===e?void 0:e.first_name)+""," ").concat((null===(t=y.userInfo)||void 0===t?void 0:t.last_name)+"");return N.length>15&&(N=N.substring(0,15)+"..."),Object(Ce.jsx)(j.a,{bg:"light",variant:"light",expand:"lg",className:"border border-primary rounded",children:Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(j.a.Brand,{href:"/",children:"What to play? look? read?"}),Object(Ce.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Ce.jsxs)(j.a.Collapse,{id:"basic-navbar-nav",children:[Object(Ce.jsxs)(b.a,{className:"me-auto",children:[Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsx)(u.b,{className:"nav-link",to:"/reviews",children:"Reviews"})}),x(c.Roles)?Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsx)(u.b,{className:"nav-link",to:"/my-reviews",children:"MyReviews"})}):Object(Ce.jsx)(Ce.Fragment,{})]}),Object(Ce.jsxs)(b.a,{children:[p(c.Roles)?Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsx)(b.a.Link,{href:"/admin",children:"ADMIN-PANEL"})}):Object(Ce.jsx)(Ce.Fragment,{}),p(c.Roles)||x(c.Roles)||g(c.Roles)?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsxs)(u.b,{className:"nav-link",to:"/user",children:["[",N,"]",Object(Ce.jsxs)(m.a,{bg:"success",children:[L," Likes"]})]})}),Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsx)(O.a,{variant:"outline-danger",onClick:I,children:"LogOut"})})]}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsx)(u.b,{className:"nav-link",to:"/registration",children:"Registration"})}),Object(Ce.jsx)(b.a.Item,{children:Object(Ce.jsx)(u.b,{className:"nav-link",to:"/login",children:"Login"})})]})]})]})]})})}var Ee=a(481),Se=a(267),Ge=a(482),_e=a(490),Ue=a(494),Fe=a(38),Ae=a(71),Me=a(26),Pe=Me.d().shape({user:Me.f().required("Username is required").min(4,"Username must be at least 4 characters").max(20,"Username must not exceed 20 characters"),password:Me.f().required("Password is required").min(6,"Password must be at least 6 characters").max(40,"Password must not exceed 40 characters")});function He(e){Object(Ue.a)().t;var t,a,n=Object(i.f)(),c=Object(o.b)(),s=Object(o.c)((function(e){return e.userUser.errorLogin})),l=Object(o.c)((function(e){return e.userUser.login}));Object(r.useEffect)((function(){l&&(n("/user"),c(_(!1)))}),[l]);var u=Object(Fe.e)({resolver:Object(Ae.a)(Pe)}),j=u.register,b=u.handleSubmit,m=(u.watch,u.formState.errors);return Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[Object(Ce.jsx)(Ee.a,{className:"mt-2",children:Object(Ce.jsx)(Se.a,{children:s?Object(Ce.jsxs)(Ge.a,{variant:"danger",onClose:function(){c(A(!1))},dismissible:!0,children:[Object(Ce.jsx)(Ge.a.Heading,{children:"Server Error Message"}),Object(Ce.jsx)("p",{children:s.data.message||s.data.reason})]}):null})}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("h4",{children:"Authorization"})})}),Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)(_e.a,{onSubmit:b((function(e){c(Le(e))})),children:[Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicUsername",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"User login"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},j("user")),{},{type:"text",placeholder:"Enter login",isInvalid:!!m.user})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(t=m.user)||void 0===t?void 0:t.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicPassword",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Password"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},j("password")),{},{type:"password",placeholder:"Password",isInvalid:!!m.password})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(a=m.password)||void 0===a?void 0:a.message})]})]}),Object(Ce.jsx)(Ee.a,{className:"justify-content-end",children:Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-primary",type:"submit",children:"LogIn"})})})]})})}),Object(Ce.jsx)(Ee.a,{className:"border-top border-primary mt-2 mb-2"}),Object(Ce.jsx)(Ee.a,{className:"mb-2 justify-content-center",children:Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)("a",{href:"/auth/api/github",class:"btn btn-outline-success",role:"button","aria-pressed":"true",children:"logIn with GitHub"})})})]})}function Be(){return Object(Ce.jsx)(d.a,{className:"border border-primary rounded bg-light mt-1",children:Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{className:"mt-3 mb-3",children:Object(Ce.jsxs)(Ee.a,{className:"justify-content-end",children:[Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"})}),Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("button",{className:"btn btn-outline-primary my-2 my-sm-0",type:"submit",children:"Search"})})]})})})})}function We(){return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(He,{})]})}var Ve=Me.d().shape({user:Me.f().required("Username is required").min(4,"Username must be at least 4 characters").max(20,"Username must not exceed 20 characters"),password:Me.f().required("Password is required").min(6,"Password must be at least 6 characters").max(40,"Password must not exceed 40 characters"),password2:Me.f().required("Password2 is required").min(6,"Password2 must be at least 6 characters").max(40,"Password2 must not exceed 40 characters").oneOf([Me.e("password"),null],"Passwords must match"),email:Me.f().required("Email is required").min(6,"Email must be at least 6 characters").max(40,"Email must not exceed 40 characters").email("Invalid Email"),first_name:Me.f(),last_name:Me.f()});function qe(e){Object(Ue.a)().t;var t,a,n,c,s,l,u=Object(i.f)(),j=Object(o.b)(),b=Object(o.c)((function(e){return e.userUser.errorRegistration})),m=Object(o.c)((function(e){return e.userUser.registration})),h=Object(Fe.e)({resolver:Object(Ae.a)(Ve)}),g=h.register,x=h.handleSubmit,p=(h.watch,h.formState.errors);return Object(r.useEffect)((function(){m&&(u("/user"),j(B(!1)))}),[m]),Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[Object(Ce.jsx)(Ee.a,{className:"mt-2",children:Object(Ce.jsx)(Se.a,{children:b?Object(Ce.jsxs)(Ge.a,{variant:"danger",onClose:function(){j(q(!1))},dismissible:!0,children:[Object(Ce.jsx)(Ge.a.Heading,{children:"Server Error Message"}),Object(Ce.jsx)("p",{children:b.data.reason})]}):null})}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("h4",{children:"Registration"})})}),Object(Ce.jsx)(Ee.a,{className:"mb-2",children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)(_e.a,{onSubmit:x((function(e){j(Ne(e))})),children:[Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicFullName",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Password"}),Object(Ce.jsxs)(Se.a,{sm:"5",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},g("first_name")),{},{type:"text",placeholder:"First name",isInvalid:!!p.first_name})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(t=p.first_name)||void 0===t?void 0:t.message})]}),Object(Ce.jsxs)(Se.a,{sm:"5",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},g("last_name")),{},{type:"text",placeholder:"Last name",isInvalid:!!p.last_name})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(a=p.last_name)||void 0===a?void 0:a.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicUsername",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"User login"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},g("user")),{},{type:"text",placeholder:"Enter login",isInvalid:!!p.user})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(n=p.user)||void 0===n?void 0:n.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicEmail",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Email"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},g("email")),{},{type:"email",placeholder:"email@email",isInvalid:!!p.email})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(c=p.email)||void 0===c?void 0:c.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicPassword",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Password"}),Object(Ce.jsxs)(Se.a,{sm:"5",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},g("password")),{},{type:"password",placeholder:"Password",isInvalid:!!p.password})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(s=p.password)||void 0===s?void 0:s.message})]}),Object(Ce.jsxs)(Se.a,{sm:"5",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},g("password2")),{},{type:"password",placeholder:"Password 2",isInvalid:!!p.password2})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(l=p.password2)||void 0===l?void 0:l.message})]})]}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-primary",type:"submit",children:"Registration"})})})]})})})]})}function ze(){return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(qe,{})]})}var De=a(5),Ke=a(483);function Je(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){var a,r=t.current.parentNode,n=window.getComputedStyle(r),c=n.position;r.style.position="relative";var s=parseInt(n.width)-(e.ignorePadding?0:parseInt(n.paddingRight)+parseInt(n.paddingLeft))+"px",i=parseInt(n.height)-(e.ignorePadding?0:parseInt(n.paddingTop)+parseInt(n.paddingBottom))+"px",o=e.ignorePadding?"0px":n.paddingLeft,d=e.ignorePadding?"0px":n.paddingTop,l=document.createElement("div");l.style.position="absolute",l.style.display="block",l.style.width=s,l.style.height=i,l.style.left=o,l.style.top=d,r.appendChild(l),l.style.zIndex=10,l.style.opacity="0.2",l.style.backgroundColor="orange",(a=l.classList).add.apply(a,Object(De.a)(e.className?e.className.split(" "):[]));var u=t.current;return u.style.position="absolute",u.style.display="block",u.style.width=s,u.style.height=i,u.style.left=o,u.style.top=d,u.style.zIndex=11,function(){r.style.position=c,r.removeChild(l),u.style.display="none"}})),Object(Ce.jsx)("div",{ref:t,style:{display:"none"},className:e.className?e.className.toString():"",children:Object(Ce.jsx)(Ee.a,{style:{height:"100%"},className:"justify-content-center align-items-center",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)(Ke.a,{animation:"border",style:{width:e.size||"auto",height:e.size||"auto"},variant:e.variant||"warning"})})})})}var Qe=Object(E.b)({name:"userLangs",initialState:{langs:[],loadLangs:!1},reducers:{getLangs:function(e,t){e.langs=Object(De.a)(t.payload)},startLoadLangs:function(e,t){e.loadLangs=!0},endLoadLangs:function(e,t){e.loadLangs=!1}}}),Xe=Qe.actions,Ye=Xe.getLangs,Ze=Xe.startLoadLangs,$e=Xe.endLoadLangs,et=Qe.reducer,tt=v.a.mark(at);function at(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,void 0===t?{}:t,r.next=3,Object(y.d)(Ze());case 3:return r.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/user/langs"},T));case 5:return a=r.sent,r.next=8,Object(y.d)(Ye(a.data));case 8:return r.next=10,Object(y.d)($e());case 10:case"end":return r.stop()}}),tt)}var rt="FETCH_GET_ALL_LANGS",nt=k([[rt,at]]),ct=C({sagaGetAllLangs:rt}).sagaGetAllLangs,st=Object(E.b)({name:"userThemes",initialState:{themes:[],loadThemes:!1},reducers:{getThemes:function(e,t){e.themes=Object(De.a)(t.payload)},startLoadThemes:function(e,t){e.loadThemes=!0},endLoadThemes:function(e,t){e.loadThemes=!1}}}),it=st.actions,ot=it.getThemes,dt=it.startLoadThemes,lt=it.endLoadThemes,ut=st.reducer,jt=v.a.mark(bt);function bt(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,void 0===t?{}:t,r.next=3,Object(y.d)(dt());case 3:return r.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/user/themes"},T));case 5:return a=r.sent,r.next=8,Object(y.d)(ot(a.data));case 8:return r.next=10,Object(y.d)(lt());case 10:case"end":return r.stop()}}),jt)}var mt="FETCH_GET_ALL_THEMES",Ot=k([[mt,bt]]),ht=C({sagaGetAllThemes:mt}).sagaGetAllThemes,gt=Me.d().shape({first_name:Me.f(),last_name:Me.f(),langId:Me.c().required("lang ID is required"),themeId:Me.c().required("Theme ID is required")});function xt(e){Object(Ue.a)().t;var t,a,n,c,s=Object(r.useState)(!0),i=Object(l.a)(s,2),u=i[0],j=i[1],b=Object(o.b)(),m=Object(o.c)((function(e){return e.userUser.user})),h=Object(o.c)((function(e){return e.userUser.loadGetUser})),g=Object(o.c)((function(e){return e.userUser.errorSetUser})),x=Object(o.c)((function(e){return e.userUser.loadSetUser})),p=Object(o.c)((function(e){return e.userLangs.langs})),f=Object(o.c)((function(e){return e.userLangs.loadLangs})),v=Object(o.c)((function(e){return e.userThemes.themes})),y=Object(o.c)((function(e){return e.userThemes.loadThemes})),L=Object(Fe.e)({resolver:Object(Ae.a)(gt)}),I=L.register,N=L.handleSubmit,R=(L.watch,L.formState.errors);return Object(r.useLayoutEffect)((function(){b(ct()),b(ht()),j(!1)}),[]),Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[h||!m.userInfo?Object(Ce.jsx)(Je,{ignorePadding:!0,className:"rounded",size:"3.5rem"}):null,x?Object(Ce.jsx)(Je,{ignorePadding:!0,className:"rounded",size:"5rem"}):null,Object(Ce.jsx)(Ee.a,{className:"mt-2",children:Object(Ce.jsx)(Se.a,{children:g?Object(Ce.jsxs)(Ge.a,{variant:"danger",onClose:function(){b(Y(!1))},dismissible:!0,children:[Object(Ce.jsx)(Ge.a.Heading,{children:"Server Error Message"}),Object(Ce.jsx)("p",{children:g.data.reason||g.data.message})]}):null})}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("h4",{children:"User Settings"})})}),Object(Ce.jsx)(Ee.a,{className:"mb-2",children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)(_e.a,{onSubmit:N((function(e){var t;b(Re(Object(w.a)({id:null===(t=m.userInfo)||void 0===t?void 0:t.id},e)))})),children:[Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicFirstName",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"First name"}),Object(Ce.jsxs)(Se.a,{sm:"7",children:[u||h||!m.userInfo?null:Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},I("first_name")),{},{defaultValue:m.userInfo.first_name,type:"text",placeholder:"Enter first name",isInvalid:!!R.first_name})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(t=R.first_name)||void 0===t?void 0:t.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicLastName",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Last name"}),Object(Ce.jsxs)(Se.a,{sm:"7",children:[u||h||!m.userInfo?null:Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},I("last_name")),{},{defaultValue:m.userInfo.last_name,type:"text",placeholder:"Enter last name",isInvalid:!!R.last_name})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(a=R.last_name)||void 0===a?void 0:a.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicLang",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Language"}),Object(Ce.jsxs)(Se.a,{sm:"7",children:[f?Object(Ce.jsx)(Je,{size:"1.25rem"}):null,u||f||!m.userInfo?null:Object(Ce.jsx)(_e.a.Select,Object(w.a)(Object(w.a)({},I("langId")),{},{defaultValue:m.userInfo.langId,isInvalid:!!R.lang,children:p.map((function(e,t){return Object(Ce.jsx)("option",{value:e.id,children:e.title},t)}))})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(n=R.lang)||void 0===n?void 0:n.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicTheme",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Theme"}),Object(Ce.jsxs)(Se.a,{sm:"7",children:[y?Object(Ce.jsx)(Je,{size:"1.25rem"}):null,u||y||!m.userInfo?null:Object(Ce.jsx)(_e.a.Select,Object(w.a)(Object(w.a)({},I("themeId")),{},{defaultValue:m.userInfo.themeId,isInvalid:!!R.theme,children:v.map((function(e,t){return Object(Ce.jsx)("option",{value:e.id,children:e.title},t)}))})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(c=R.theme)||void 0===c?void 0:c.message})]})]}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-primary",type:"submit",children:"Save"})})})]})})})]})}function pt(){return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(xt,{})]})}function ft(e){return Object(Ce.jsxs)(Ee.a,{children:[Object(Ce.jsxs)(Se.a,{style:{paddingRight:".125rem"},children:[e.content,e.addContent?e.addContent:null]}),Object(Ce.jsx)(Se.a,{md:"auto",style:{paddingLeft:".125rem"},children:e.rightbar})]})}var vt=a(45),wt=a(268),yt=Object(E.b)({name:"userRatings",initialState:{rating:0,loadNewRating:!1},reducers:{setRating:function(e,t){e.rating=1*t.payload},newRating:function(e,t){e.rating=t.payload.userRating},startLoadNewRating:function(e,t){e.loadNewRating=!0},endLoadNewRating:function(e,t){e.loadNewRating=!1},errorNewRating:function(e,t){e.errorNewRating=t.payload}}}),Lt=yt.actions,It=(Lt.setRating,Lt.newRating),Nt=Lt.startLoadNewRating,Rt=Lt.endLoadNewRating,Tt=Lt.errorNewRating,Ct=yt.reducer,kt=v.a.mark(Et);function Et(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(Nt());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/user/rating-new",data:{rating:a.rating,reviewId:a.reviewId}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(It(r.data));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(y.d)(Tt(n.t0));case 15:return n.prev=15,n.next=18,Object(y.d)(Rt());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),kt,null,[[1,11,15,19]])}var St="FETCH_NEW_RATING",Gt=k([[St,Et]]),_t=C({sagaNewRating:St}).sagaNewRating;function Ut(e){Object(Ue.a)().t;var t=Object(o.b)(),a=Object(r.useState)(null),n=Object(l.a)(a,2),c=n[0],s=n[1],i=Object(o.c)((function(e){return e.userRatings.rating})),d=Object(o.c)((function(e){return e.userRatings.loadNewRating})),u=Object(r.useRef)(!1);Object(r.useLayoutEffect)((function(){!j.current&&u.current&&(s(i),u.current=!1)}),[i]);var j=Object(r.useRef)(!0);Object(r.useLayoutEffect)((function(){j.current&&(j.current=!1)}));var b=e.data.length>0?e.data[0].userRating:null!==c?c:0,m=e.data.length>0||null!==c;return Object(Ce.jsxs)(Ce.Fragment,{children:[d&&u.current?Object(Ce.jsx)(Je,{size:"1.5rem"}):null,Object(Ce.jsx)(wt.a,{readonly:m,initialRating:b,onChange:function(a){u.current=!0,t(_t({rating:a,reviewId:e.reviewId}))}})]})}var Ft=v.a.mark(At);function At(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(re());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/user/like-new",data:{reviewId:a.reviewId}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(ae(r.data));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(y.d)(ce(n.t0));case 15:return n.prev=15,n.next=18,Object(y.d)(ne());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),Ft,null,[[1,11,15,19]])}var Mt="FETCH_NEW_LIKE",Pt=k([[Mt,At]]),Ht=C({sagaNewLike:Mt}).sagaNewLike;function Bt(e){Object(Ue.a)().t;var t=Object(o.b)(),a=Object(r.useState)(null),n=Object(l.a)(a,2),c=n[0],s=n[1],i=Object(o.c)((function(e){return e.userLikes.like})),d=Object(o.c)((function(e){return e.userLikes.loadNewLike})),u=Object(r.useRef)(!1);Object(r.useLayoutEffect)((function(){!j.current&&u.current&&(s(i.like),u.current=!1)}),[i]);var j=Object(r.useRef)(!0);Object(r.useLayoutEffect)((function(){j.current&&(j.current=!1)}));var b=e.data.length>0||null!==c;return Object(Ce.jsxs)(Ce.Fragment,{children:[d&&u.current?Object(Ce.jsx)(Je,{size:"1.5rem"}):null,Object(Ce.jsx)(O.a,{variant:"danger",disabled:b,size:"sm",onClick:function(){u.current=!0,t(Ht({reviewId:e.reviewId}))},children:"Like"})]})}function Wt(e){var t=Object(Ue.a)().t,a=Object(h.a)(),r=Object(l.a)(a,3),n=r[0];r[2];return Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[Object(Ce.jsxs)(Ee.a,{className:"align-items-center mt-1 mb-1",children:[Object(Ce.jsxs)(Se.a,{children:[Object(Ce.jsx)("span",{className:"h6",children:e.group}),Object(Ce.jsx)("span",{children:" / "}),Object(Ce.jsx)(u.b,{to:"/review/"+e.id,children:Object(Ce.jsx)("span",{className:"h6",children:e.title})})]}),Object(Ce.jsx)(Se.a,{md:"auto",children:g(n.Roles)?Object(Ce.jsx)(Ut,{data:e.ratings,reviewId:e.id}):null}),Object(Ce.jsx)(Se.a,{md:"auto",children:g(n.Roles)?Object(Ce.jsx)(Bt,{data:e.likes,reviewId:e.id}):null})]}),Object(Ce.jsxs)(Ee.a,{children:[Object(Ce.jsx)(Se.a,{sm:"3",children:Object(Ce.jsxs)(Ee.a,{className:"float-start border border-primary rounded row-cols-1 text-center",style:{marginRight:"5px"},children:[Object(Ce.jsx)(Se.a,{className:"text-info",children:Object(Ce.jsx)("h1",{children:e.authorRating})}),Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)("span",{className:"text-secondary",children:[e.author[0]," ",e.author[1]]})})]})}),Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)(vt.a,{children:e.description})})]}),Object(Ce.jsxs)(Ee.a,{className:"align-items-center mt-1 mb-1",children:[Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("span",{className:"text-secondary",children:t("intlDateTime",{val:new Date(e.date)})})}),Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)(u.b,{to:"/review/"+e.id,children:Object(Ce.jsx)("span",{className:"h6",children:"full review"})})})]})]})}var Vt=a(65),qt=a(96),zt=a.n(qt),Dt=a(492),Kt=a(288),Jt=a(130),Qt=a(290),Xt=a(285);function Yt(e){return e.filter(Zt)}function Zt(e,t,a){return a.lastIndexOf(e)===t}var $t=Object(E.b)({name:"editorTags",initialState:{tags:[],loadTags:!1,loadNewTag:!1,errorNewTag:!1,newTag:!1},reducers:{getTags:function(e,t){e.tags=Object(De.a)(t.payload)},startLoadTags:function(e,t){e.loadTags=!0},endLoadTags:function(e,t){e.loadTags=!1},startLoadNewTag:function(e,t){e.loadNewTag=!0},endLoadNewTag:function(e,t){e.loadNewTag=!1},errorNewTag:function(e,t){e.errorNewTag=t.payload},newTag:function(e,t){e.tags=[t.payload].concat(Object(De.a)(e.tags)),e.newTag=t.payload}}}),ea=$t.actions,ta=ea.getTags,aa=ea.startLoadTags,ra=ea.endLoadTags,na=ea.startLoadNewTag,ca=ea.endLoadNewTag,sa=ea.errorNewTag,ia=ea.newTag,oa=$t.reducer,da=v.a.mark(ua),la=v.a.mark(ja);function ua(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(aa());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/part-tags/"+encodeURIComponent(a)},T));case 5:return r=n.sent,n.next=8,Object(y.d)(ta(r.data));case 8:return n.next=10,Object(y.d)(ra());case 10:case"end":return n.stop()}}),da)}function ja(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(na());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/editor/tag-new",data:{tag:a}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(ia(r.data));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),delete n.t0.config,n.next=16,Object(y.d)(sa(n.t0));case 16:return n.prev=16,n.next=19,Object(y.d)(ca());case 19:return n.finish(16);case 20:case"end":return n.stop()}}),la,null,[[1,11,16,20]])}var ba="FETCH_GET_PART_TAGS",ma="FETCH_NEW_TAG",Oa=k([[ba,ua],[ma,ja]]),ha=C({sagaGetPartTags:ba,sagaNewTag:ma}),ga=ha.sagaGetPartTags,xa=ha.sagaNewTag,pa=Object(E.b)({name:"editorGroups",initialState:{groups:[],loadGroups:!1},reducers:{getGroups:function(e,t){e.groups=Object(De.a)(t.payload)},startLoadGroups:function(e,t){e.loadGroups=!0},endLoadGroups:function(e,t){e.loadGroups=!1}}}),fa=pa.actions,va=fa.getGroups,wa=fa.startLoadGroups,ya=fa.endLoadGroups,La=pa.reducer,Ia=v.a.mark(Na);function Na(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,void 0===t?{}:t,r.next=3,Object(y.d)(wa());case 3:return r.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/groups"},T));case 5:return a=r.sent,r.next=8,Object(y.d)(va(a.data));case 8:return r.next=10,Object(y.d)(ya());case 10:case"end":return r.stop()}}),Ia)}var Ra="FETCH_GET_ALL_GROUPS",Ta=k([[Ra,Na]]),Ca=C({sagaGetAllGroups:Ra}).sagaGetAllGroups,ka=Object(E.b)({name:"editorTitles",initialState:{titles:[],loadTitles:!1,loadNewTitle:!1,errorNewTitle:!1,newTitle:!1},reducers:{getTitles:function(e,t){e.titles=Object(De.a)(t.payload)},startLoadTitles:function(e,t){e.loadTitles=!0},endLoadTitles:function(e,t){e.loadTitles=!1},startLoadNewTitle:function(e,t){e.loadNewTitle=!0},endLoadNewTitle:function(e,t){e.loadNewTitle=!1},errorNewTitle:function(e,t){e.errorNewTitle=t.payload},newTitle:function(e,t){e.titles=[t.payload].concat(Object(De.a)(e.titles)),e.newTitle=t.payload}}}),Ea=ka.actions,Sa=Ea.getTitles,Ga=Ea.startLoadTitles,_a=Ea.endLoadTitles,Ua=Ea.startLoadNewTitle,Fa=Ea.endLoadNewTitle,Aa=Ea.errorNewTitle,Ma=Ea.newTitle,Pa=ka.reducer,Ha=v.a.mark(Wa),Ba=v.a.mark(Va);function Wa(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(Ga());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/part-titles/"+encodeURIComponent(a)},T));case 5:return r=n.sent,n.next=8,Object(y.d)(Sa(r.data));case 8:return n.next=10,Object(y.d)(_a());case 10:case"end":return n.stop()}}),Ha)}function Va(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(Ua());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/editor/title-new",data:{title:a.title,description:a.description}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(Ma(r.data));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),delete n.t0.config,n.next=16,Object(y.d)(Aa(n.t0));case 16:return n.prev=16,n.next=19,Object(y.d)(Fa());case 19:return n.finish(16);case 20:case"end":return n.stop()}}),Ba,null,[[1,11,16,20]])}var qa="FETCH_GET_PART_TITLES",za="FETCH_NEW_TITLE",Da=k([[qa,Wa],[za,Va]]),Ka=C({sagaGetPartTitles:qa,sagaNewTitle:za}),Ja=Ka.sagaGetPartTitles,Qa=Ka.sagaNewTitle,Xa=Object(E.b)({name:"guestEditors",initialState:{partEditors:[],loadEditors:!1},reducers:{getEditors:function(e,t){e.partEditors=Object(De.a)(t.payload)},startLoadEditors:function(e,t){e.loadTiltes=!0},endLoadEditors:function(e,t){e.loadTiltes=!1}}}),Ya=Xa.actions,Za=Ya.getEditors,$a=Ya.startLoadEditors,er=Ya.endLoadEditors,tr=Xa.reducer,ar=v.a.mark(rr);function rr(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)($a());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/guest/editor-short-part/",params:{page:a.page}},T));case 5:return r=n.sent,n.next=8,Object(y.d)(Za(r.data));case 8:return n.next=10,Object(y.d)(er());case 10:case"end":return n.stop()}}),ar)}var nr="FETCH_GET_PART_EDITORS",cr=k([[nr,rr]]),sr=C({sagaGetPartEditors:nr}).sagaGetPartEditors,ir=Object(E.b)({name:"customFilter",initialState:{filter:{},editorFilter:{}},reducers:{setFilterData:function(e,t){e.filter=t.payload},setEditorFilterData:function(e,t){e.editorFilter=t.payload}}}),or=ir.actions,dr=or.setFilterData,lr=or.setEditorFilterData,ur=ir.reducer;function jr(e){var t,a,n,c,s,d,j=Object(o.b)(),b=Object(i.f)(),m=Object(Fe.e)(),h=m.register,g=m.handleSubmit,x=m.setValue,p=m.control,f=(m.reset,m.formState.errors),y=Object(u.c)(),L=Object(l.a)(y,2),I=L[0],N=(L[1],Object(o.c)((function(e){return e.customFilter.editorFilter}))),R=Object(o.c)((function(e){return e.customFilter.filter})),T="editor"===e.typeFilter?N:R,C=Object(r.useState)(null),k=Object(l.a)(C,2),E=k[0],S=k[1],G=Object(r.useState)(null),_=Object(l.a)(G,2),U=_[0],F=_[1],A=Object(o.c)((function(e){return e.editorTags.tags})),M=Object(o.c)((function(e){return e.editorTags.loadTags})),P=Object(o.c)((function(e){return e.editorGroups.groups})),H=(Object(o.c)((function(e){return e.editorGroups.loadGroups})),Object(o.c)((function(e){return e.editorTitles.titles}))),B=Object(o.c)((function(e){return e.editorTitles.loadTitles})),W=Object(o.c)((function(e){return e.guestEditors.partEditors}));Object(o.c)((function(e){return e.guestEditors.loadEditors}));return Object(r.useLayoutEffect)((function(){P&&P.length>0&&E&&E.callback(P.map((function(e){return{value:e.id,label:e.group}})))}),[P]),Object(r.useLayoutEffect)((function(){W&&U&&(W.length>0?U.callback({options:W.map((function(e){var t=e.user&&e.social_id?e.user+"/"+e.social_id:e.user?e.user:e.social_id?e.social_id:"UNKNOWN";return e.userInfo&&(t+="(".concat(e.userInfo.first_name," ").concat(e.userInfo.last_name,")")),{value:e.id,label:t}})),hasMore:!0}):U.callback({options:[],hasMore:!1}))}),[W]),Object(Ce.jsx)(Dt.a,{rootClose:!0,delay:0,trigger:"click",placement:"bottom",overlay:Object(Ce.jsxs)(Kt.a,{id:"popover-filter-reviews",style:{minWidth:"500px"},children:[Object(Ce.jsx)(Kt.a.Header,{as:"h3",children:"Filter Selected Reviews"}),Object(Ce.jsx)(Kt.a.Body,{children:Object(Ce.jsxs)(_e.a,{onSubmit:g((function(t){var a=Object.keys(t).reduce((function(e,a){return t[a]&&(e[a]="tags"===a||"titles"===a?Yt(t[a].map((function(e){return e.id}))):"authors"===a||"groups"===a?Yt(t[a].map((function(e){return e.value}))):t[a]),e}),{});"editor"===e.typeFilter?j(lr(t)):j(dr(t)),b(("editor"===e.typeFilter?"/my-reviews":"/reviews")+"?"+zt.a.stringify(a,{arrayFormat:"bracket"})),document.body.click()})),children:[Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formTags",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Tags"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(Fe.a,{name:"tags",control:p,defaultValue:function(){var e=I.getAll("tags[]");if(e){var t=T.tags||[];return e.map((function(e){var a=t.filter((function(t){return t.id==e}));return a.length<1?{id:1*e,tag:"tag_id_"+e}:a.at(-1)}))}return[]}(),render:function(e){var t=e.field,a=t.onChange,r=t.onBlur,n=t.value,c=t.ref;return Object(Ce.jsx)(Jt.a,{ref:c,id:"async-autocomplete-tags",minLength:2,delay:300,useCache:!1,labelKey:"tag",multiple:!0,isLoading:M,clearButton:!0,onChange:a,onBlur:r,selected:n,onSearch:function(e){j(ga(e))},options:A})}}),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(t=f.tags)||void 0===t?void 0:t.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formGroups",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Groups"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(Fe.a,{name:"groups",control:p,defaultValue:function(){var e=I.getAll("groups[]");if(e){var t=T.groups||[];return e.map((function(e){var a=t.filter((function(t){return t.id==e}));return a.length<1?{value:1*e,label:"group_id_"+e}:a.at(-1)}))}return[]}(),render:function(e){var t=e.field,a=t.onChange,r=(t.onBlur,t.value);t.ref;return Object(Ce.jsx)(Qt.a,{loadOptions:function(e,t){S({callback:t}),j(Ca())},onChange:a,value:r,isMulti:!0,isSearchable:!1,defaultOptions:!0})}}),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(a=f.groups)||void 0===a?void 0:a.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formTitles",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Titles"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(Fe.a,{name:"titles",control:p,defaultValue:function(){var e=I.getAll("titles[]");if(e){var t=T.titles||[];return e.map((function(e){var a=t.filter((function(t){return t.id==e}));return a.length<1?{id:1*e,title:"title_id_"+e}:a.at(-1)}))}return[]}(),render:function(e){var t=e.field,a=t.onChange,r=t.onBlur,n=t.value,c=t.ref;return Object(Ce.jsx)(Jt.a,{ref:c,id:"async-autocomplete-titles",minLength:3,delay:300,useCache:!1,labelKey:"title",multiple:!0,isLoading:B,clearButton:!0,onChange:a,onBlur:r,selected:n,onSearch:function(e){j(Ja(e))},options:H})}}),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(n=f.tags)||void 0===n?void 0:n.message})]})]}),e.withAuthors?Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formAuthos",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Authors"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(Fe.a,{name:"authors",control:p,defaultValue:function(){var e=I.getAll("authors[]");if(e){var t=T.authos||[];return e.map((function(e){var a=t.filter((function(t){return t.id==e}));return a.length<1?{value:1*e,label:"author_id_"+e}:a.at(-1)}))}return[]}(),render:function(e){var t=e.field,a=t.onChange,r=(t.onBlur,t.value);t.ref;return Object(Ce.jsx)(Xt.a,{isMulti:!0,isSearchable:!1,loadOptions:function(){var e=Object(Vt.a)(v.a.mark((function e(t,a,r){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.page,j(sr({page:n})),e.next=4,new Promise((function(e,t){F({callback:function(t){t.additional={page:n+1},e(t)}})}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),onChange:a,value:r,additional:{page:1},defaultOptions:!0})}}),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(c=f.groups)||void 0===c?void 0:c.message})]})]}):null,Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Sorting"}),Object(Ce.jsxs)(Se.a,{sm:"5",children:[Object(Ce.jsxs)(_e.a.Select,Object(w.a)(Object(w.a)({},h("sortField")),{},{defaultValue:I.get("sortField"),isInvalid:!!f.sortField,children:[Object(Ce.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Chose field"}),e.sortFields.map((function(e,t){return Object(Ce.jsx)("option",{value:e,children:e},t)}))]})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(s=f.sortField)||void 0===s?void 0:s.message})]}),Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"type"}),Object(Ce.jsxs)(Se.a,{sm:"3",children:[Object(Ce.jsxs)(_e.a.Select,Object(w.a)(Object(w.a)({},h("sortType")),{},{defaultValue:I.get("sortType"),isInvalid:!!f.sortType,children:[Object(Ce.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Chose type"}),Object(Ce.jsx)("option",{value:"ASC",children:"ASC"}),Object(Ce.jsx)("option",{value:"DESC",children:"DESC"})]})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(d=f.sortType)||void 0===d?void 0:d.message})]})]}),Object(Ce.jsxs)(Ee.a,{className:"justify-content-end",children:[Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-danger",type:"button",onClick:function(){b("?"),x("groups",[]),x("authors",[]),x("tags",[]),x("titles",[]),x("sortField",null),x("sortType",null)},children:"reset"})}),Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-success",type:"submit",children:"filter"})})]})]})})]}),children:Object(Ce.jsx)(O.a,{variant:"outline-primary",children:"Filters"})})}var br=Object(E.b)({name:"userReviews",initialState:{data:[],dataItem:{},dataItemLoading:!1},reducers:{moreReviews:function(e,t){e.data=[].concat(Object(De.a)(e.data),Object(De.a)(t.payload))},getReviews:function(e,t){e.data=Object(De.a)(t.payload)},getReview:function(e,t){e.dataItem=t.payload,e.dataItemLoading=!1},getReviewLoading:function(e,t){e.dataItemLoading=!0},getReviewError:function(e,t){e.dataItemLoading=!1}}}),mr=br.actions,Or=mr.moreReviews,hr=mr.getReviews,gr=mr.getReview,xr=mr.getReviewLoading,pr=(mr.getReviewError,br.reducer),fr=v.a.mark(yr),vr=v.a.mark(Lr),wr=v.a.mark(Ir);function yr(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.b)(N,Object(w.a)({method:"get",url:"/".concat(a.isUser?"user":"guest","/reviews"),params:a.params},T));case 4:return r=n.sent,n.next=7,Object(y.d)(Or(r.data));case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),n.t0;case 12:case"end":return n.stop()}}),fr,null,[[1,9]])}function Lr(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.b)(N,Object(w.a)({method:"get",url:"/".concat(a.isUser?"user":"guest","/reviews"),params:a.params},T));case 4:return r=n.sent,n.next=7,Object(y.d)(hr(r.data));case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),n.t0;case 12:case"end":return n.stop()}}),vr,null,[[1,9]])}function Ir(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(y.d)(xr());case 4:return r.next=6,Object(y.b)(N,Object(w.a)({method:"get",url:"/".concat(t.isUser?"user":"guest","/review/").concat(t.id)},T));case 6:return a=r.sent,r.next=9,Object(y.d)(gr(a.data));case 9:r.next=14;break;case 11:throw r.prev=11,r.t0=r.catch(1),r.t0;case 14:case"end":return r.stop()}}),wr,null,[[1,11]])}var Nr="FETCH_MORE_REVIEWS",Rr="FETCH_GET_REVIEWS",Tr="FETCH_GET_REVIEW",Cr=k([[Nr,yr],[Rr,Lr],[Tr,Ir]]),kr=C({sagaMoreReviews:Nr,sagaGetReviews:Rr,sagaGetReview:Tr}),Er=(kr.sagaMoreReviews,kr.sagaGetReviews),Sr=kr.sagaGetReview,Gr=["authorRating","averageEditorRating","averageUserRating","countComments","createdAt","updatedAt"];function _r(){var e=Object(h.a)(),t=Object(l.a)(e,3),a=t[0],n=(t[2],Object(o.c)((function(e){return e.userReviews.data}))),c=Object(o.b)(),s=Object(u.c)(),i=Object(l.a)(s,1)[0];return Object(r.useEffect)((function(){c(Er({params:i,isUser:g(a.Roles)}))}),[i]),Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)(d.a,{className:"border border-primary rounded bg-light mt-1",children:Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{md:"auto",className:"mt-3 mb-3",children:Object(Ce.jsx)(jr,{withAuthors:!0,sortFields:Gr,typeFilter:"guest"})})})})})}),Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:n.map((function(e){var t,a,r,n,c,s,i,o;return Object(Ce.jsx)(Wt,{id:e.id,title:null===(t=e.groupTitle)||void 0===t||null===(a=t.title)||void 0===a?void 0:a.title,group:null===(r=e.groupTitle)||void 0===r||null===(n=r.group)||void 0===n?void 0:n.group,ratings:e.ratings||[],likes:e.likes||[],description:e.description,date:e.createdAt,authorRating:e.authorRating,author:[(null===(c=e.user)||void 0===c||null===(s=c.userInfo)||void 0===s?void 0:s.first_name)||"Unknown",(null===(i=e.user)||void 0===i||null===(o=i.userInfo)||void 0===o?void 0:o.last_name)||"Unknown"]},e.id)}))})})]})}var Ur=a(284),Fr=Object(E.b)({name:"userTags",initialState:{data:[]},reducers:{getAllTags:function(e,t){e.data=Object(De.a)(t.payload)}}}),Ar=Fr.actions.getAllTags,Mr=Fr.reducer,Pr=v.a.mark(Hr);function Hr(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.b)(N,Object(w.a)({method:"get",url:"/guest/tags".concat(a.order?"/order-true":"")},T));case 4:return r=n.sent,n.next=7,Object(y.d)(Ar(r.data));case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),n.t0;case 12:case"end":return n.stop()}}),Pr,null,[[1,9]])}var Br="FETCH_GET_ALL_TAGS",Wr=k([[Br,Hr]]),Vr=C({sagaGetAllTags:Br}).sagaGetAllTags;function qr(e){Object(Ue.a)().t;var t=Object(o.c)((function(e){return e.userTags.data})),a=Object(o.b)(),n=Object(i.f)(),c={},s=t.map((function(e){return c[e.tag]=e.id,{value:e.countReview,text:e.tag}}));return Object(r.useEffect)((function(){a(Vr({order:!0}))}),[]),Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)(Ur.a,{className:"border border-primary rounded bg-light mt-1 mb-1",words:s,options:{rotations:2,rotationAngles:[0,0]},callbacks:{getWordTooltip:function(e){return""},onWordClick:function(e,t){n("/reviews?"+zt.a.stringify({tags:[c[e.text]]},{arrayFormat:"bracket"}))},onWordMouseOut:function(e,t){t.target.setAttribute("font-size",Number.parseInt(t.target.getAttribute("font-size"))/2+"px"),t.target.setAttribute("text-decoration","none")},onWordMouseOver:function(e,t){t.target.setAttribute("font-size",2*Number.parseInt(t.target.getAttribute("font-size"))+"px"),t.target.setAttribute("text-decoration","underline")}},size:[250,250]})})})}function zr(){return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(ft,{content:Object(Ce.jsx)(_r,{}),rightbar:Object(Ce.jsx)(qr,{})})]})}var Dr=a(23),Kr=a(32),Jr=a(34),Qr=a(208),Xr=Object(Qr.a)("countRows"),Yr=Object(Qr.a)("currentPage"),Zr=Object(Qr.a)("lastAddCountRow"),$r=function(){function e(t){Object(Dr.a)(this,e),Object.defineProperty(this,Xr,{writable:!0,value:0}),Object.defineProperty(this,Yr,{writable:!0,value:1}),Object.defineProperty(this,Zr,{writable:!0,value:0}),Object(Jr.a)(this,Xr)[Xr]=1*t}return Object(Kr.a)(e,[{key:"replace",value:function(e,t,a){if(!Array.isArray(a))throw new Error("Third argument must be Array");e[t]=Object(De.a)(a),a.length>=Object(Jr.a)(this,Xr)[Xr]?(Object(Jr.a)(this,Yr)[Yr]++,Object(Jr.a)(this,Zr)[Zr]=0):Object(Jr.a)(this,Zr)[Zr]=a.length}},{key:"remove",value:function(e,t,a){var r=this;if("function"!==typeof a)throw new Error("Third argument must be Function");e[t].length,Object(Jr.a)(this,Zr)[Zr];e[t]=e[t].filter((function(e,t,n){var c=a(e,t,n);return c&&(Object(Jr.a)(r,Zr)[Zr]--,Object(Jr.a)(r,Zr)[Zr]<0&&(Object(Jr.a)(r,Zr)[Zr]=Object(Jr.a)(r,Xr)[Xr]-1,Object(Jr.a)(r,Yr)[Yr]--,Object(Jr.a)(r,Yr)[Yr]<1&&(Object(Jr.a)(r,Yr)[Yr]=1))),c}))}},{key:"append",value:function(e,t,a){if(!Array.isArray(a))throw new Error("Third argument must be Array");e[t]=[].concat(Object(De.a)(a),Object(De.a)(e[t]))}},{key:"addWithReplace",value:function(e,t,a){if(!Array.isArray(a))throw new Error("Third argument must be Array");if(0===Object(Jr.a)(this,Zr)[Zr])e[t]=[].concat(Object(De.a)(e[t]),Object(De.a)(a));else{var r=e[t].length-Object(Jr.a)(this,Zr)[Zr];e[t]=[e[t].slice(0,r<0?e[t].length:r)].concat(Object(De.a)(a))}a.length>=Object(Jr.a)(this,Xr)[Xr]?(Object(Jr.a)(this,Yr)[Yr]++,Object(Jr.a)(this,Zr)[Zr]=0):Object(Jr.a)(this,Zr)[Zr]=a.length}},{key:"addToEnd",value:function(e,t,a){if(!Array.isArray(a))throw new Error("Third argument must be Array");e[t]=[].concat(Object(De.a)(e[t]),Object(De.a)(a)),Object(Jr.a)(this,Zr)[Zr]+=a.length,Object(Jr.a)(this,Zr)[Zr]>=Object(Jr.a)(this,Xr)[Xr]&&(Object(Jr.a)(this,Yr)[Yr]+=Math.floor(Object(Jr.a)(this,Zr)[Zr]/Object(Jr.a)(this,Xr)[Xr]),Object(Jr.a)(this,Zr)[Zr]=Object(Jr.a)(this,Zr)[Zr]%Object(Jr.a)(this,Xr)[Xr])}},{key:"getPageForQuery",value:function(){return Object(Jr.a)(this,Yr)[Yr]}}]),e}(),en=Object(E.b)({name:"userComments",initialState:{reviewId:null,paginator:new $r(20),comments:[],commentsLoading:!1,commentsMoreLoading:!1,commentsAutoUpdateLoading:!1,newComment:!1,newCommentLoading:!1,newCommentError:!1},reducers:{setReviewId:function(e,t){e.reviewId=t.payload},moreComments:function(e,t){e.paginator.addWithReplace(e,"comments",t.payload)},startLoadMoreComments:function(e,t){e.commentsMoreLoading=!0},endLoadMoreComments:function(e,t){e.commentsMoreLoading=!1},getComments:function(e,t){e.paginator.replace(e,"comments",t.payload)},startLoadGetComments:function(e,t){e.commentsLoading=!0},endLoadGetComments:function(e,t){e.commentsLoading=!1},startLoadNewComment:function(e,t){e.newCommentLoading=!0},endLoadNewComment:function(e,t){e.newCommentLoading=!1},newComment:function(e,t){e.newComment=t.payload},errorNewComment:function(e,t){e.newCommentError=t.payload},autoUpdateComments:function(e,t){e.paginator.addToEnd(e,"comments",t.payload)},startLoadAutoUpdateComments:function(e,t){e.commentsAutoUpdateLoading=!0},endLoadAutoUpdateComments:function(e,t){e.commentsAutoUpdateLoading=!1}}}),tn=en.actions,an=tn.moreComments,rn=tn.startLoadMoreComments,nn=tn.endLoadMoreComments,cn=tn.getComments,sn=tn.startLoadGetComments,on=tn.endLoadGetComments,dn=tn.autoUpdateComments,ln=tn.startLoadAutoUpdateComments,un=tn.endLoadAutoUpdateComments,jn=tn.startLoadNewComment,bn=tn.endLoadNewComment,mn=tn.newComment,On=tn.errorNewComment,hn=tn.setReviewId,gn=en.reducer;function xn(e){var t,a,n,c,s,j,b,m,O,x,p,f,v,w,y,L=Object(h.a)(),I=Object(l.a)(L,3),N=I[0],R=(I[2],Object(Ue.a)().t),T=Object(o.c)((function(e){return e.userReviews.dataItem})),C=Object(o.c)((function(e){return e.userReviews.dataItemLoading})),k=Object(o.b)(),E=Object(i.g)(),S=Object(r.useState)(!0),G=Object(l.a)(S,2),_=G[0],U=G[1];(Object(r.useEffect)((function(){k(Sr({id:E.id,isUser:g(N.Roles)})),U(!1)}),[]),Object(r.useEffect)((function(){T&&k(hn(T.id))}),[T]),C||_)?t=Object(Ce.jsx)("h2",{children:"loading..."}):t=Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[Object(Ce.jsxs)(Ee.a,{className:"mt-2",children:[Object(Ce.jsx)(Se.a,{className:"text-center",children:Object(Ce.jsx)("div",{children:g(N.Roles)?Object(Ce.jsx)(Ut,{data:T.ratings||[],reviewId:T.id}):null})}),Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("div",{children:g(N.Roles)?Object(Ce.jsx)(Bt,{data:T.likes||[],reviewId:T.id}):null})})]}),Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsxs)(Se.a,{className:"text-center",children:[Object(Ce.jsx)("span",{className:"h2",children:(null===(a=T.groupTitle)||void 0===a||null===(n=a.group)||void 0===n?void 0:n.group)||"Unknown"}),Object(Ce.jsx)("span",{className:"h2",children:" / "}),Object(Ce.jsx)("span",{className:"h2",children:(null===(c=T.groupTitle)||void 0===c||null===(s=c.title)||void 0===s?void 0:s.title)||"Unknown"})]})}),Object(Ce.jsx)(Ee.a,{className:"border-bottom border-top border-primary pt-1 pb-1 mt-3 mb-3",children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)(vt.a,{children:(null===(j=T.groupTitle)||void 0===j||null===(b=j.title)||void 0===b?void 0:b.description)||"UNKNOWN"})})}),Object(Ce.jsxs)(Ee.a,{className:"float-start border border-primary rounded row-cols-1 text-center",style:{marginRight:"5px"},children:[Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("span",{className:"h1 text-info",children:T.authorRating||0})}),Object(Ce.jsx)(Se.a,{children:T.user?Object(Ce.jsx)(u.b,{to:"/reviews?"+zt.a.stringify({authors:[T.userId]},{arrayFormat:"bracket"}),children:Object(Ce.jsxs)("span",{children:[(null===(m=T.user)||void 0===m||null===(O=m.userInfo)||void 0===O?void 0:O.first_name)||"Unknown"," ",(null===(x=T.user)||void 0===x||null===(p=x.userInfo)||void 0===p?void 0:p.last_name)||"Unknown"]})}):Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsxs)("span",{className:"text-secondary",children:[(null===(f=T.user)||void 0===f||null===(v=f.userInfo)||void 0===v?void 0:v.first_name)||"Unknown"," ",(null===(w=T.user)||void 0===w||null===(y=w.userInfo)||void 0===y?void 0:y.last_name)||"Unknown"]})})})]}),Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)(vt.a,{children:T.text})})}),Object(Ce.jsxs)(Ee.a,{className:"justify-content-center",children:[Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)(Ee.a,{className:"float-start border border-primary rounded row-cols-1 text-center text-success",children:[Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("h1",{children:T.averageEditorRating||0})}),Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("strong",{children:"Average Editors rating"})})]})}),Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)(Ee.a,{className:"float-start border border-primary rounded row-cols-1 text-center text-danger",children:[Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("h1",{children:T.averageUserRating||0})}),Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("strong",{children:"Average Users rating"})})]})})]}),Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:(T.tags||[]).map((function(e,t){return Object(Ce.jsx)("span",{className:"m-2",children:Object(Ce.jsx)(u.b,{to:"/reviews?"+zt.a.stringify({tags:[e.id]},{arrayFormat:"bracket"}),children:e.tag})},t)}))})}),Object(Ce.jsx)(Ee.a,{className:"text-end",children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("span",{className:"text-secondary",children:R("intlDateTime",{val:new Date(e.date)})})})})]});return Object(Ce.jsx)(Ce.Fragment,{children:t})}var pn=a(493),fn=v.a.mark(Ln),vn=v.a.mark(In),wn=v.a.mark(Nn),yn=v.a.mark(Rn);function Ln(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(sn());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/user/comments",params:a},T));case 5:return r=n.sent,n.next=8,Object(y.d)(cn(r.data));case 8:return n.next=10,Object(y.d)(on());case 10:case"end":return n.stop()}}),fn)}function In(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(rn());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/user/comments",params:a},T));case 5:return r=n.sent,n.next=8,Object(y.d)(an(r.data));case 8:return n.next=10,Object(y.d)(nn());case 10:case"end":return n.stop()}}),vn)}function Nn(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(ln());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/user/auto-update-comments",params:a},T));case 5:return r=n.sent,n.next=8,Object(y.d)(dn(r.data));case 8:return n.next=10,Object(y.d)(un());case 10:case"end":return n.stop()}}),wn)}function Rn(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(jn());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/user/new-comment",data:{comment:a.comment,reviewId:a.reviewId}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(mn(r.data));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),delete n.t0.config,n.next=16,Object(y.d)(On(n.t0));case 16:return n.prev=16,n.next=19,Object(y.d)(bn());case 19:return n.finish(16);case 20:case"end":return n.stop()}}),yn,null,[[1,11,16,20]])}var Tn="FETCH_COMMENTS",Cn="FETCH_MORE_COMMENTS",kn="FETCH_AUTO_UPDATE_COMMENTS",En="FETCH_NEW_COMMENT",Sn=k([[Tn,Ln],[Cn,In],[kn,Nn],[En,Rn]]),Gn=C({sagaGetComments:Tn,sagaMoreComments:Cn,sagaAutoUpdateComments:kn,sagaNewComment:En}),_n=Gn.sagaGetComments;Gn.sagaMoreComments,Gn.sagaAutoUpdateComments,Gn.sagaNewComment;function Un(e){return Object(Ce.jsx)("h2",{children:"hello world"})}var Fn=Me.d().shape({title:Me.f().required("Title is required").min(3,"Title must be maximum 3 characters"),description:Me.f().max(3e3,"Description must be maximum 3000 characters")});function An(e){Object(Ue.a)().t;var t,a=Object(o.b)(),n=Object(r.useState)(!1),c=Object(l.a)(n,2),s=c[0],i=c[1],u=Object(o.c)((function(e){return e.userComments.reviewId})),j=Object(o.c)((function(e){return e.userComments.comments})),b=Object(o.c)((function(e){return e.userComments.commentsLoading})),m=Object(r.useCallback)((function(){i(!1)}),[]),h=Object(r.useCallback)((function(){return i(!0)}),[]),g=Object(Fe.e)({resolver:Object(Ae.a)(Fn)}),x=g.register,p=g.handleSubmit,f=(g.setValue,g.formState.errors),v=Object(r.useRef)(!0);return Object(r.useEffect)((function(){v.current&&(v.current=!1),u&&a(_n({reviewId:u}))}),[u]),Object(r.useEffect)((function(){return function(){a(hn(null))}}),[]),Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[b?Object(Ce.jsx)(Je,{ignorePadding:!0,size:"4.5rem"}):null,Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("span",{className:"h4",children:"Comments:"})})}),j.length<=0?Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)("span",{className:"h4",children:"Comments Not Found"})})}):Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:j.map((function(e,t){return Object(Ce.jsx)(Un,{},t)}))})}),Object(Ce.jsx)(Ee.a,{className:"mb-3 justify-content-end",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-primary",onClick:h,children:"Create Comment"})})})]}),Object(Ce.jsxs)(pn.a,{show:s,onHide:m,animation:!1,centered:!0,size:"lg",children:[Object(Ce.jsx)(pn.a.Header,{closeButton:!0,children:Object(Ce.jsx)(pn.a.Title,{children:"Modal Create New Comment"})}),Object(Ce.jsx)(pn.a.Body,{children:Object(Ce.jsx)(_e.a,{id:"hook-modal-form",onSubmit:p((function(e){console.log(e)})),children:Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicComment",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"comment"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({as:"textarea"},x("comment")),{},{rows:5,placeholder:"Enter comment",isInvalid:!!f.comment})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(t=f.comment)||void 0===t?void 0:t.message})]})]})})}),Object(Ce.jsxs)(pn.a.Footer,{className:"justify-content-center",children:[Object(Ce.jsx)(O.a,{variant:"outline-secondary",onClick:m,children:"Close"}),Object(Ce.jsx)(O.a,{variant:"outline-success",type:"submit",form:"hook-modal-form",children:"Create Comment"})]})]})]})}function Mn(){var e=Object(h.a)(),t=Object(l.a)(e,3),a=t[0];t[2];return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(ft,{content:Object(Ce.jsx)(xn,{}),addContent:g(a.Roles)?Object(Ce.jsx)(An,{}):null,rightbar:Object(Ce.jsx)(qr,{})})]})}var Pn=a(485),Hn=Object(E.b)({name:"editorReviews",initialState:{data:[],dataLoading:!1,dataMoreLoading:!1,dataItem:{},dataItemLoading:!1,dataItemSetLoading:!1,dataItemError:!1,dataItemNewLoading:!1,dataItemRemoveLoading:!1,dataItemRemoveError:!1,newReview:!1},reducers:{moreReviews:function(e,t){e.data=[].concat(Object(De.a)(e.data),Object(De.a)(t.payload))},startLoadMoreReviews:function(e,t){e.dataMoreLoading=!0},endLoadMoreReviews:function(e,t){e.dataMoreLoading=!1},getReviews:function(e,t){e.data=Object(De.a)(t.payload)},startLoadGetReviews:function(e,t){e.dataLoading=!0},endLoadGetReviews:function(e,t){e.dataLoading=!1},getReview:function(e,t){e.dataItem=t.payload},startLoadGetReview:function(e,t){e.dataItemLoading=!0},endLoadGetReview:function(e,t){e.dataItemLoading=!1},startLoadSetReview:function(e,t){e.dataItemSetLoading=!0},endLoadSetReview:function(e,t){e.dataItemSetLoading=!1},errorSetReview:function(e,t){e.dataItemError=t.payload},startLoadNewReview:function(e,t){e.dataItemNewLoading=!0},endLoadNewReview:function(e,t){e.dataItemNewLoading=!1},newReview:function(e,t){e.newReview=t.payload},startLoadRemoveReview:function(e,t){e.dataItemRemoveLoading=!0},endLoadRemoveReview:function(e,t){e.dataItemRemoveLoading=!1},errorRemoveReview:function(e,t){e.dataItemRemoveError=t.payload},removeReview:function(e,t){e.data=e.data.filter((function(e){return e.id!==t.payload.id}))}}}),Bn=Hn.actions,Wn=Bn.moreReviews,Vn=Bn.startLoadMoreReviews,qn=Bn.endLoadMoreReviews,zn=Bn.getReviews,Dn=Bn.startLoadGetReviews,Kn=Bn.endLoadGetReviews,Jn=Bn.startLoadNewReview,Qn=Bn.endLoadNewReview,Xn=Bn.errorNewReview,Yn=Bn.newReview,Zn=Bn.removeReview,$n=Bn.startLoadRemoveReview,ec=Bn.endLoadRemoveReview,tc=Bn.errorRemoveReview,ac=Bn.getReview,rc=Bn.startLoadGetReview,nc=Bn.endLoadGetReview,cc=Bn.startLoadSetReview,sc=Bn.endLoadSetReview,ic=Bn.errorSetReview,oc=Hn.reducer,dc=v.a.mark(Oc),lc=v.a.mark(hc),uc=v.a.mark(gc),jc=v.a.mark(xc),bc=v.a.mark(pc),mc=v.a.mark(fc);function Oc(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(Dn());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/reviews",params:a},T));case 5:return r=n.sent,n.next=8,Object(y.d)(zn(r.data));case 8:return n.next=10,Object(y.d)(Kn());case 10:case"end":return n.stop()}}),dc)}function hc(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,void 0===t?{}:t,r.next=3,Object(y.d)(Vn());case 3:return r.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/reviews"},T));case 5:return a=r.sent,r.next=8,Object(y.d)(Wn(a.data));case 8:return r.next=10,Object(y.d)(qn());case 10:case"end":return r.stop()}}),lc)}function gc(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(rc());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/review/"+a},T));case 5:return r=n.sent,n.next=8,Object(y.d)(ac(r.data));case 8:return n.next=10,Object(y.d)(nc());case 10:case"end":return n.stop()}}),uc)}function xc(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)(cc());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/editor/review-edit",data:{id:a.id,groupId:a.group,titleId:a.title,description:a.description||"",text:a.text||"",tags:a.tags||[],authorRating:a.authorRating||0,draft:a.draft}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(ac(r.data));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),delete n.t0.config,n.next=16,Object(y.d)(ic(n.t0));case 16:return n.prev=16,n.next=19,Object(y.d)(sc());case 19:return n.finish(16);case 20:case"end":return n.stop()}}),jc,null,[[1,11,16,20]])}function pc(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,void 0===t?{}:t,r.prev=1,r.next=4,Object(y.d)(Jn());case 4:return r.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/editor/review-new",data:{}},T));case 6:return a=r.sent,r.next=9,Object(y.d)(Yn(a.data));case 9:r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(1),delete r.t0.config,r.next=16,Object(y.d)(Xn(r.t0));case 16:return r.prev=16,r.next=19,Object(y.d)(Qn());case 19:return r.finish(16);case 20:case"end":return r.stop()}}),bc,null,[[1,11,16,20]])}function fc(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)($n());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/editor/review-remove",data:{id:a.id}},T));case 6:return r=n.sent,n.next=9,Object(y.d)(Zn(r.data));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),delete n.t0.config,n.next=16,Object(y.d)(tc(n.t0));case 16:return n.prev=16,n.next=19,Object(y.d)(ec());case 19:return n.finish(16);case 20:case"end":return n.stop()}}),mc,null,[[1,11,16,20]])}var vc="FETCH_REVIEWS",wc="FETCH_MORE_REVIEWS",yc="FETCH_REVIEW",Lc="FETCH_NEW_REVIEW",Ic="FETCH_EDIT_REVIEW",Nc="REMOVE_REVIEW",Rc=k([[vc,Oc],[wc,hc],[yc,gc],[Lc,pc],[Ic,xc],[Nc,fc]]),Tc=C({sagaGetReviews:vc,sagaMoreReviews:wc,sagaGetReview:yc,sagaNewReview:Lc,sagaEditReview:Ic,sagaRemoveReview:Nc}),Cc=Tc.sagaGetReviews,kc=(Tc.sagaMoreReviews,Tc.sagaGetReview),Ec=Tc.sagaNewReview,Sc=Tc.sagaEditReview,Gc=Tc.sagaRemoveReview;function _c(e){Object(Ue.a)().t;var t,a,n,c,s,i,d,u,j=Object(o.b)(),b=e.entry,m=Object(r.useState)(!1),h=Object(l.a)(m,2),g=h[0],x=h[1],p=Object(r.useCallback)((function(){return x(!1)}),[]),f=Object(r.useCallback)((function(){return x(!0)}),[]),v=Object(r.useCallback)((function(){j(Gc(b)),x(!1)}),[b]);return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:b.id}),Object(Ce.jsx)("td",{children:null===(t=b.groupTitle)||void 0===t||null===(a=t.group)||void 0===a?void 0:a.group}),Object(Ce.jsx)("td",{children:null===(n=b.groupTitle)||void 0===n||null===(c=n.title)||void 0===c?void 0:c.title}),Object(Ce.jsx)("td",{children:b.authorRating}),Object(Ce.jsx)("td",{children:b.averageEditorRating}),Object(Ce.jsx)("td",{children:b.averageUserRating}),Object(Ce.jsx)("td",{children:b.countComments}),Object(Ce.jsx)("td",{children:b.tags.map((function(e){return e.tag})).join(", ")}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(vt.a,{children:b.description})}),Object(Ce.jsx)("td",{children:b.draft+""}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)("a",{href:"/review/"+b.id,className:"btn btn-outline-info btn-sm",role:"button","aria-pressed":"true",children:"V"})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)("a",{href:"/my-review-edit/"+b.id,className:"btn btn-outline-primary btn-sm",role:"button","aria-pressed":"true",children:"E"})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(O.a,{variant:"outline-danger",size:"sm",onClick:f,children:"R"})})]}),Object(Ce.jsxs)(pn.a,{show:g,onHide:p,animation:!1,centered:!0,size:"md",children:[Object(Ce.jsx)(pn.a.Header,{closeButton:!0,children:Object(Ce.jsx)(pn.a.Title,{children:"Modal Confirm Removing Review"})}),Object(Ce.jsxs)(pn.a.Body,{children:["Are you sure you want to remove review id: ",b.id," ",null===(s=b.groupTitle)||void 0===s||null===(i=s.group)||void 0===i?void 0:i.group,"/",null===(d=b.groupTitle)||void 0===d||null===(u=d.title)||void 0===u?void 0:u.title,"?"]}),Object(Ce.jsxs)(pn.a.Footer,{className:"justify-content-center",children:[Object(Ce.jsx)(O.a,{variant:"secondary",onClick:p,children:"Close"}),Object(Ce.jsx)(O.a,{variant:"danger",onClick:v,children:"Remove Review"})]})]})]})}var Uc=["authorRating","averageEditorRating","averageUserRating","countComments","createdAt","draft","updatedAt"];function Fc(){var e=Object(o.c)((function(e){return e.editorReviews.data})),t=Object(o.c)((function(e){return e.editorReviews.newReview})),a=(Object(o.c)((function(e){return e.editorReviews.dataLoading})),Object(o.b)()),n=(Object(i.g)(),Object(i.f)()),c=Object(u.c)(),s=Object(l.a)(c,1)[0];Object(r.useEffect)((function(){a(Cc(s))}),[s]);var d=Object(r.useCallback)((function(){a(Ec())}));return Object(r.useEffect)((function(){t&&(n("/my-review-edit/"+t.id),a(Yn(!1)))}),[t]),Object(Ce.jsx)("div",{className:"border border-primary rounded bg-light mt-1 mb-1",children:Object(Ce.jsxs)(Pn.a,{striped:!0,bordered:!0,hover:!0,className:"rounded mb-0",children:[Object(Ce.jsxs)("thead",{children:[Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{colSpan:"10",children:Object(Ce.jsx)(jr,{withAuthors:!1,sortFields:Uc,typeFilter:"editor"})}),Object(Ce.jsx)("td",{className:"text-center",colSpan:"3",children:Object(Ce.jsx)(O.a,{variant:"outline-success",onClick:d,children:"Create"})})]}),Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{className:"text-center",children:"#"}),Object(Ce.jsx)("th",{className:"text-center",children:"Group"}),Object(Ce.jsx)("th",{className:"text-center",children:"Title"}),Object(Ce.jsx)("th",{className:"text-center",children:"AR"}),Object(Ce.jsx)("th",{className:"text-center",children:"AAR"}),Object(Ce.jsx)("th",{className:"text-center",children:"AUR"}),Object(Ce.jsx)("th",{className:"text-center",children:"comms"}),Object(Ce.jsx)("th",{className:"text-center",children:"tags"}),Object(Ce.jsx)("th",{className:"text-center",children:"description"}),Object(Ce.jsx)("th",{className:"text-center",children:"draft"}),Object(Ce.jsx)("th",{className:"text-center",colSpan:"3",children:"actions"})]})]}),Object(Ce.jsx)("tbody",{children:e.map((function(e,t){return Object(Ce.jsx)(_c,{entry:e,imdex:t},t)}))})]})})}function Ac(){return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(Fc,{})]})}var Mc=a(488),Pc=a(496),Hc=Object(E.b)({name:"editorImages",initialState:{modalImages:!1,urlImageToInsert:!1,images:[],loadImages:!1,loadMoreImages:!1,loadNewImage:!1,errorNewImage:!1,newImage:!1,progressLoadNewImage:0,selectedImageInsert:null,selectedImageUpload:null},reducers:{showModalImage:function(e,t){e.modalImages=!0},hideModalImage:function(e,t){e.modalImages=!1},setURLImageToInsert:function(e,t){e.urlImageToInsert=t.payload},getImages:function(e,t){e.images=Object(De.a)(t.payload)},startLoadImages:function(e,t){e.loadImages=!0},endLoadImages:function(e,t){e.loadImages=!1},moreImages:function(e,t){e.images=[].concat(Object(De.a)(e.images),Object(De.a)(t.payload))},startLoadMoreImages:function(e,t){e.loadMoreImages=!0},endLoadMoreImages:function(e,t){e.loadMoreImages=!1},startLoadNewImage:function(e,t){e.loadNewImage=!0},endLoadNewImage:function(e,t){e.loadNewImage=!1},progressLoadNewImageAC:function(e,t){e.progressLoadNewImage=t.payload},errorNewImageAC:function(e,t){e.errorNewImage=t.payload},newImageAC:function(e,t){e.images=[].concat(Object(De.a)(t.payload),Object(De.a)(e.images)),e.newImage=t.payload},selectedImageInsertAC:function(e,t){e.selectedImageInsert=t.payload},selectedImageUploadAC:function(e,t){e.selectedImageUpload=t.payload}}}),Bc=Hc.actions,Wc=Bc.showModalImage,Vc=Bc.hideModalImage,qc=Bc.setURLImageToInsert,zc=Bc.getImages,Dc=Bc.startLoadImages,Kc=Bc.endLoadImages,Jc=Bc.moreImages,Qc=Bc.startLoadMoreImages,Xc=Bc.endLoadMoreImages,Yc=Bc.selectedImageInsertAC,Zc=Bc.selectedImageUploadAC,$c=Bc.startLoadNewImage,es=Bc.endLoadNewImage,ts=Bc.errorNewImageAC,as=Bc.newImageAC,rs=Bc.progressLoadNewImageAC,ns=Hc.reducer,cs=a(286),ss=a(486),is=a(487),os=v.a.mark(us),ds=v.a.mark(js),ls=v.a.mark(bs);function us(e){var t,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,void 0===t?{}:t,r.next=3,Object(y.d)(Dc());case 3:return r.next=5,Object(y.b)(N,Object(w.a)({method:"get",url:"/editor/images"},T));case 5:return a=r.sent,r.next=8,Object(y.d)(zc(a.data));case 8:return r.next=10,Object(y.d)(Kc());case 10:case"end":return r.stop()}}),os)}function js(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.next=3,Object(y.d)(Qc());case 3:return n.next=5,Object(y.b)(N,Object(w.a)({method:"get",params:{page:a.page},url:"/editor/images"},T));case 5:return r=n.sent,n.next=8,Object(y.d)(Jc(r.data));case 8:return n.next=10,Object(y.d)(Xc());case 10:case"end":return n.stop()}}),ds)}function bs(e){var t,a,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=void 0===t?{}:t,n.prev=1,n.next=4,Object(y.d)($c());case 4:return n.next=6,Object(y.b)(N,Object(w.a)({method:"post",url:"/editor/image-new",data:a.data,onUploadProgress:a.progress},T));case 6:return r=n.sent,n.next=9,Object(y.d)(as(r.data));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),delete n.t0.config,n.next=16,Object(y.d)(ts(n.t0));case 16:return n.prev=16,n.next=19,Object(y.d)(es());case 19:return n.finish(16);case 20:case"end":return n.stop()}}),ls,null,[[1,11,16,20]])}var ms="FETCH_GET_PART_IMAGES",Os="FETCH_NEW_IMAGE",hs="FETCH_MORE_PART_IMAGES",gs=k([[ms,us],[hs,js],[Os,bs]]),xs=C({sagaGetPartImages:ms,sagaMorePartImages:hs,sagaNewImage:Os}),ps=xs.sagaGetPartImages,fs=xs.sagaMorePartImages,vs=xs.sagaNewImage;function ws(){var e=Object(o.c)((function(e){return e.editorImages.selectedImageUpload})),t=Object(o.c)((function(e){return e.editorImages.selectedImageInsert})),a=Object(o.c)((function(e){return e.editorImages.errorNewImage})),n=Object(o.c)((function(e){return e.editorImages.progressLoadNewImage})),c=Object(o.c)((function(e){return e.editorImages.loadNewImage})),s=Object(o.c)((function(e){return e.editorImages.newImage})),i=Object(o.b)();Object(r.useEffect)((function(){s.length>0&&e&&i(Yc(s[0]))}),[s]);var d=Object(r.useCallback)((function(){var t=new FormData;t.append("images[]",e),i(vs({data:t,progress:function(e){i(rs(Math.round(100*e.loaded/e.total)))}})),i(rs(0))}));return e?Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)(Ee.a,{children:Object(Ce.jsx)(Se.a,{children:a?Object(Ce.jsxs)(Ge.a,{variant:"danger",onClose:function(){return i(ts(!1))},dismissible:!0,children:[Object(Ce.jsx)(Ge.a.Heading,{children:"Server Error Message"}),Object(Ce.jsx)("p",{children:a.data.message||a.data.reason})]}):null})}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)(ss.a,{src:URL.createObjectURL(e),style:{height:"250px"},fluid:!0})})}),Object(Ce.jsx)(Ee.a,{className:"align-items-center justify-content-center",style:{height:"50px"},children:c?Object(Ce.jsx)(Se.a,{children:Object(Ce.jsx)(is.a,{animated:!0,variant:"info",now:n})}):t?Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("h2",{children:"Upload complete"})}):Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-info",onClick:d,children:"Upload"})})})]}):Object(Ce.jsx)(cs.a,{onDrop:function(e){i(Zc(e[0]))},children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(Ce.jsx)("section",{children:Object(Ce.jsxs)("div",Object(w.a)(Object(w.a)({},t({})),{},{children:[Object(Ce.jsx)("input",Object(w.a)({},a({multiple:!1,accept:"image/*"}))),Object(Ce.jsx)(Ee.a,{className:"justify-content-center align-items-center border border-secondary border-1 bg-info rounded",style:{cursor:"pointer",height:"300px"},children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("span",{className:"h3 text-light",children:"Drag 'n' drop some files here, or click to select files"})})})]}))})}})}function ys(){var e=Object(r.useState)(1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(o.c)((function(e){return e.editorImages.images})),s=Object(o.c)((function(e){return e.editorImages.loadImages})),i=Object(o.c)((function(e){return e.editorImages.selectedImageInsert})),u=Object(o.c)((function(e){return e.editorImages.loadMoreImages})),j=Object(o.b)();return Object(r.useEffect)((function(){j(ps())}),[]),Object(r.useEffect)((function(){20*a-20>c.length&&n(a-1)}),[c]),Object(Ce.jsxs)(d.a,{children:[s?Object(Ce.jsx)(Je,{size:"3.25rem"}):null,Object(Ce.jsx)(Ee.a,{className:"align-items-center",children:c.map((function(e,t){var a="",r={};return i&&e.url===i.url&&(a="border border-warning border-5 bg-warning bg-gradient",r={maxWidth:"181px",maxHeight:"181px"}),Object(Ce.jsx)(Se.a,{sm:"auto",className:"text-center "+a,style:{width:"191px",height:"191px",padding:"0px"},children:Object(Ce.jsx)("span",{children:Object(Ce.jsx)(ss.a,{src:e.url,style:Object(w.a)(Object(w.a)({},{maxWidth:"191px",maxHeight:"191px"}),r),onClick:function(){i&&i.url!==e.url&&j(Zc(null)),j(Yc(e))},thumbnail:!0})})},t)}))}),Object(Ce.jsx)(Ee.a,{className:"mt-3",children:Object(Ce.jsxs)(Se.a,{children:[u?Object(Ce.jsx)(Je,{size:"1.25rem"}):null,Object(Ce.jsx)(O.a,{variant:"outline-primary",style:{width:"100%"},onClick:function(){j(fs({page:a+1})),n(a+1)},children:"more images"})]})})]})}function Ls(){var e=Object(r.useState)("UploadImage"),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(o.c)((function(e){return e.editorImages.modalImages})),s=Object(o.c)((function(e){return e.editorImages.selectedImageInsert})),i=Object(o.c)((function(e){return e.editorImages.selectedImageUpload})),d=Object(o.c)((function(e){return e.editorImages.urlImageToInsert})),u=Object(o.b)();return Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsxs)(pn.a,{show:c,onHide:function(){u(Vc())},animation:!1,centered:!0,size:"lg",children:[Object(Ce.jsx)(pn.a.Header,{closeButton:!0,children:Object(Ce.jsx)(pn.a.Title,{children:"Modal heading"})}),Object(Ce.jsx)(pn.a.Body,{children:Object(Ce.jsxs)(Mc.a,{activeKey:a,onSelect:function(e){return n(e)},id:"uncontrolled-tab",className:"mb-3",children:[Object(Ce.jsx)(Pc.a,{eventKey:"ImageLists",title:"ImageLists",children:Object(Ce.jsx)(ys,{})}),Object(Ce.jsx)(Pc.a,{eventKey:"UploadImage",title:"UploadImage",children:Object(Ce.jsx)(ws,{})})]})}),Object(Ce.jsxs)(pn.a.Footer,{className:"justify-content-center",children:[Object(Ce.jsx)(O.a,{variant:"outline-secondary",onClick:function(){u(Vc())},children:"Close"}),Object(Ce.jsx)(O.a,{variant:"outline-secondary",disabled:!s&&!i,onClick:function(){u(Zc(null)),u(Yc(null))},children:"Reset"}),Object(Ce.jsx)(O.a,{variant:"outline-primary",disabled:!s,onClick:function(){u(Zc(null)),u(Yc(null)),u(qc({key:d.key,url:s.url}))},children:"Insert Image"})]})]})})}var Is=a(109);function Ns(e){Object(o.c)((function(e){return e.editorImages.modalImages}));var t=Object(o.c)((function(e){return e.editorImages.urlImageToInsert})),a=Object(o.b)();return Object(r.useEffect)((function(){t&&t.url&&t.key===e.editor&&(e.editor.insertText("![This is an image](".concat(t.url,")")),a(qc({key:e.editor,url:null})),a(Vc()))}),[t]),Object(r.useEffect)((function(){a(qc({key:e.editor,url:null}))}),[]),Object(Ce.jsx)("span",{className:"button",title:"Custom Images",onClick:function(){a(qc({key:e.editor,url:null})),a(Wc())},children:"images"})}Ns.defaultConfig={},Ns.align="left",Ns.pluginName="custom extends images";a(462);Is.b.unuse(Is.a.Image),Is.b.use(Ns);var Rs=Me.d().shape({group:Me.c().required("Group is required"),title:Me.c().required("Title is required"),description:Me.f().max(3e3,"Description must be maximum 3000 characters"),text:Me.f().max(65e3,"Description must be maximum 65000 characters"),tags:Me.a().of(Me.c()),authorRating:Me.c(),draft:Me.b()}),Ts=Me.d().shape({title:Me.f().required("Title is required").min(3,"Title must be maximum 3 characters"),description:Me.f().max(3e3,"Description must be maximum 3000 characters")});function Cs(e){Object(Ue.a)().t;var t,a,n,c,s,u,j,b,m,h=Object(r.useRef)(),g=Object(r.useRef)(),x=Object(r.useState)([]),p=Object(l.a)(x,2),f=p[0],v=p[1],y=Object(o.c)((function(e){return e.editorReviews.dataItem})),L=Object(o.c)((function(e){return e.editorReviews.dataItemLoading})),I=Object(o.c)((function(e){return e.editorReviews.dataItemError})),N=(Object(o.c)((function(e){return e.editorReviews.dataItemSetLoading})),Object(o.b)()),R=Object(i.g)(),T=Object(r.useState)(!0),C=Object(l.a)(T,2),k=C[0],E=C[1],S=Object(r.useState)(!1),G=Object(l.a)(S,2),_=G[0],U=G[1],F=Object(o.c)((function(e){return e.editorGroups.groups})),A=Object(o.c)((function(e){return e.editorGroups.loadGroups})),M=Object(o.c)((function(e){return e.editorTitles.titles})),P=Object(o.c)((function(e){return e.editorTitles.loadTitles})),H=Object(o.c)((function(e){return e.editorTitles.newTitle})),B=Object(o.c)((function(e){return e.editorTitles.loadNewTitle})),W=Object(o.c)((function(e){return e.editorTags.tags})),V=Object(o.c)((function(e){return e.editorTags.loadTags})),q=Object(o.c)((function(e){return e.editorTags.newTag}));Object(o.c)((function(e){return e.editorTags.loadNewTag}));Object(r.useEffect)((function(){N(kc(R.id)),N(Ca()),E(!1)}),[]);var z=Object(Fe.e)({resolver:Object(Ae.a)(Rs)}),D=z.register,K=z.handleSubmit,J=z.setValue,Q=z.formState.errors,X=Object(Fe.e)({resolver:Object(Ae.a)(Ts)}),Y=X.register,Z=X.handleSubmit,$=X.setValue,ee=X.formState.errors;console.log(y,Q);var te=Object(r.useCallback)((function(){U(!1)}),[]);Object(r.useCallback)((function(){return U(!0)}),[]);return Object(r.useEffect)((function(){H&&(J("title",H.id),h.current.hideMenu())}),[H]),Object(r.useEffect)((function(){q&&v([].concat(Object(De.a)(f),[q]))}),[q]),Object(r.useEffect)((function(){y.tags&&v(Object(De.a)(y.tags))}),[y]),Object(Ce.jsxs)(d.a,{className:"border border-primary rounded bg-light mt-1 mb-1",children:[Object(Ce.jsx)(Ls,{}),Object(Ce.jsx)(Ee.a,{className:"mt-2",children:Object(Ce.jsx)(Se.a,{children:I?Object(Ce.jsxs)(Ge.a,{variant:"danger",onClose:function(){N(ic(!1))},dismissible:!0,children:[Object(Ce.jsx)(Ge.a.Heading,{children:"Server Error Message"}),Object(Ce.jsx)("p",{children:I.data.reason||I.data.message})]}):null})}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{sm:"auto",children:Object(Ce.jsx)("h4",{children:"Create New Review"})})}),Object(Ce.jsx)(Ee.a,{className:"mb-2",children:Object(Ce.jsx)(Se.a,{children:Object(Ce.jsxs)(_e.a,{onSubmit:K((function(e){console.log(e),N(Sc(Object(w.a)({id:y.id},e)))})),children:[Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicGroup",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Group"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[A?Object(Ce.jsx)(Je,{size:"1.25rem"}):null,k||A||L?null:Object(Ce.jsx)(_e.a.Select,Object(w.a)(Object(w.a)({},D("group")),{},{defaultValue:y.groupTitle.group.id,isInvalid:!!Q.group,children:F.map((function(e,t){return Object(Ce.jsx)("option",{value:e.id,children:e.group},t)}))})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(t=Q.group)||void 0===t?void 0:t.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicTitle",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Title"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[B?Object(Ce.jsx)(Je,{size:"1.25rem"}):null,k||L?null:Object(Ce.jsx)(Jt.a,{ref:h,id:"async-title",minLength:3,allowNew:!0,delay:300,useCache:!1,labelKey:"title",isLoading:P,clearButton:!0,defaultSelected:[y.groupTitle.title],onChange:function(e){e.length>0?e[0].customOption?(U(!0),$("title",e[0].title),$("description","")):J("title",e[0].id):J("title",void 0)},onSearch:function(e){N(Ja(e))},options:M.length>0?M:[y.groupTitle.title]}),k||L?null:Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},D("title")),{},{defaultValue:y.groupTitle.title.id,type:"hidden",isInvalid:!!Q.title})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(a=Q.title)||void 0===a?void 0:a.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicDescription",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"description"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[k||L?null:Object(Ce.jsx)(Is.b,{style:{height:"500px"},renderHTML:function(e){return Object(Ce.jsx)(vt.a,{children:e})},onChange:function(e){e.html,e.text}}),k||L?null:Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({as:"textarea"},D("description")),{},{rows:5,defaultValue:y.description,placeholder:"Enter description",isInvalid:!!Q.description})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(n=Q.description)||void 0===n?void 0:n.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicText",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"review"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[k||L?null:Object(Ce.jsx)(Is.b,{style:{height:"500px"},renderHTML:function(e){return Object(Ce.jsx)(vt.a,{children:e})},onChange:function(e){e.html,e.text}}),k||L?null:Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({as:"textarea"},D("text")),{},{rows:10,defaultValue:y.text,placeholder:"Enter text review",isInvalid:!!Q.text})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(c=Q.text)||void 0===c?void 0:c.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicTags",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Tags"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[k||L?null:Object(Ce.jsx)(Jt.a,{ref:g,id:"async-tags",minLength:2,multiple:!0,allowNew:!0,delay:300,useCache:!1,labelKey:"tag",isLoading:V,clearButton:!0,defaultSelected:y.tags,onChange:function(e){e.length>0?e.at(-1).customOption?N(xa(e.at(-1).tag)):v(Object(De.a)(e)):v([])},onSearch:function(e){N(ga(e))},options:W.length>0?W.filter((function(e){return!~g.current.state.selected.findIndex((function(t){return t.id==e.id}))})):y.tags}),k||L?null:Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},D("tags")),{},{value:f.map((function(e){return e.id})).join(" "),type:"text",isInvalid:!!Q.title})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(s=Q.tags)||void 0===s?void 0:s.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formAuthorRating",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Author rating"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[k||L?null:Object(Ce.jsxs)(_e.a.Select,Object(w.a)(Object(w.a)(Object(w.a)({},D("authorRating")),y.authorRating?{defaultValue:y.authorRating}:{}),{},{isInvalid:!!Q.authorRating,children:[Object(Ce.jsx)("option",{disabled:!0,selected:!0,children:"Chose ratings"}),Object(Ce.jsx)("option",{value:"1",children:"1"}),Object(Ce.jsx)("option",{value:"2",children:"2"}),Object(Ce.jsx)("option",{value:"3",children:"3"}),Object(Ce.jsx)("option",{value:"4",children:"4"}),Object(Ce.jsx)("option",{value:"5",children:"5"}),Object(Ce.jsx)("option",{value:"6",children:"6"}),Object(Ce.jsx)("option",{value:"7",children:"7"}),Object(Ce.jsx)("option",{value:"8",children:"8"}),Object(Ce.jsx)("option",{value:"9",children:"9"}),Object(Ce.jsx)("option",{value:"10",children:"10"})]})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(u=Q.authorRating)||void 0===u?void 0:u.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formIsDraft",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Is Draft"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[k||L?null:Object(Ce.jsx)(_e.a.Check,{type:"checkbox",defaultChecked:!!y.draft}),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(j=Q.draft)||void 0===j?void 0:j.message})]})]}),Object(Ce.jsx)(Ee.a,{className:"justify-content-center",children:Object(Ce.jsx)(Se.a,{md:"auto",children:Object(Ce.jsx)(O.a,{variant:"outline-primary",type:"submit",children:"Save"})})})]})})}),Object(Ce.jsxs)(pn.a,{show:_,onHide:te,animation:!1,centered:!0,size:"lg",children:[Object(Ce.jsx)(pn.a.Header,{closeButton:!0,children:Object(Ce.jsx)(pn.a.Title,{children:"Modal Create New Title"})}),Object(Ce.jsx)(pn.a.Body,{children:Object(Ce.jsxs)(_e.a,{id:"hook-modal-form",onSubmit:Z((function(e){console.log(e),N(Qa(e)),U(!1)})),children:[Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicTitleTitle",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"Title"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({},Y("title")),{},{type:"text",placeholder:"Enter title",isInvalid:!!ee.title})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(b=ee.title)||void 0===b?void 0:b.message})]})]}),Object(Ce.jsxs)(_e.a.Group,{as:Ee.a,className:"mb-3",controlId:"formBasicTitleDescription",children:[Object(Ce.jsx)(_e.a.Label,{column:!0,sm:"2",children:"description"}),Object(Ce.jsxs)(Se.a,{sm:"10",children:[Object(Ce.jsx)(_e.a.Control,Object(w.a)(Object(w.a)({as:"textarea"},Y("description")),{},{rows:3,placeholder:"Enter description",isInvalid:!!ee.description})),Object(Ce.jsx)(_e.a.Control.Feedback,{type:"invalid",children:null===(m=ee.description)||void 0===m?void 0:m.message})]})]})]})}),Object(Ce.jsxs)(pn.a.Footer,{className:"justify-content-center",children:[Object(Ce.jsx)(O.a,{variant:"outline-secondary",onClick:te,children:"Close"}),Object(Ce.jsx)(O.a,{variant:"outline-success",type:"submit",form:"hook-modal-form",children:"Create Title"})]})]})]})}function ks(){return Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(ke,{}),Object(Ce.jsx)(Be,{}),Object(Ce.jsx)(Cs,{})]})}function Es(){return Object(Ce.jsx)("div",{children:Object(Ce.jsxs)(i.c,{children:[Object(Ce.jsx)(i.a,{path:"user",element:Object(Ce.jsx)(pt,{})}),Object(Ce.jsx)(i.a,{path:"registration",element:Object(Ce.jsx)(ze,{})}),Object(Ce.jsx)(i.a,{path:"login",element:Object(Ce.jsx)(We,{})}),Object(Ce.jsx)(i.a,{path:"reviews/order-:order/tag-:tag",element:Object(Ce.jsx)(zr,{})}),Object(Ce.jsx)(i.a,{path:"reviews/order-:order",element:Object(Ce.jsx)(zr,{})}),Object(Ce.jsx)(i.a,{path:"reviews/tag-:tag",element:Object(Ce.jsx)(zr,{})}),Object(Ce.jsx)(i.a,{path:"reviews",element:Object(Ce.jsx)(zr,{})}),Object(Ce.jsx)(i.a,{path:"review/:id",element:Object(Ce.jsx)(Mn,{})}),Object(Ce.jsx)(i.a,{path:"my-reviews",element:Object(Ce.jsx)(Ac,{})}),Object(Ce.jsx)(i.a,{path:"my-review-edit/:id",element:Object(Ce.jsx)(ks,{})}),Object(Ce.jsx)(i.a,{path:"/",element:Object(Ce.jsx)(zr,{})})]})})}var Ss=a(289),Gs=v.a.mark(_s);function _s(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[].concat(Object(De.a)(Cr),Object(De.a)(Wr),Object(De.a)(we),Object(De.a)(nt),Object(De.a)(Ot),Object(De.a)(Rc),Object(De.a)(Ta),Object(De.a)(Da),Object(De.a)(Oa),Object(De.a)(gs),Object(De.a)(cr),Object(De.a)(Gt),Object(De.a)(Pt),Object(De.a)(Sn)),t.next=3,Object(y.a)(e.map((function(e){return Object(y.e)(v.a.mark((function t(){var a,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!e.pattern){t.next=18;break}a=void 0;case 4:return t.next=7,Object(y.f)(e.pattern);case 7:if(r=t.sent,!a){t.next=11;break}return t.next=11,Object(y.c)(a);case 11:return t.next=13,Object(y.b)(e.saga,r);case 13:a=t.sent,t.next=4;break;case 16:t.next=20;break;case 18:return t.next=20,Object(y.b)(e);case 20:return t.abrupt("break",28);case 23:throw t.prev=23,t.t0=t.catch(1),t.t0;case 26:t.next=0;break;case 28:case"end":return t.stop()}}),t,null,[[1,23]])})))})));case 3:case"end":return t.stop()}}),Gs)}var Us=Object(Ss.a)(),Fs=Object(E.a)({reducer:{userReviews:pr,userTags:Mr,userUser:Z,userLikes:se,userLangs:et,userThemes:ut,editorReviews:oc,editorGroups:La,editorTitles:Pa,editorTags:oa,editorImages:ns,guestEditors:tr,customFilter:ur,userRatings:Ct,userComments:gn},middleware:[].concat(Object(De.a)(Object(E.c)({thunk:!1,serializableCheck:!1})),[Us])});Us.run(_s);var As=Fs,Ms=a(489);s.a.render(Object(Ce.jsx)(n.a.StrictMode,{children:Object(Ce.jsx)(Ms.a,{children:Object(Ce.jsx)(u.a,{children:Object(Ce.jsx)(o.a,{store:As,children:Object(Ce.jsx)(Es,{})})})})}),document.getElementById("root"))}},[[463,1,2]]]);
//# sourceMappingURL=main.6366692f.chunk.js.map